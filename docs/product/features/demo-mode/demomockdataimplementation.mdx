---
title: "DEMO_MOCK_DATA_IMPLEMENTATION"
description: "Create a comprehensive mock data system for the demo user (`demo@dormway.app`) to provide a realistic, fully-functional preview of DormWay's capabilities in..."
---

# Demo Mock Data Implementation Plan

## Overview
Create a comprehensive mock data system for the demo user (`demo@dormway.app`) to provide a realistic, fully-functional preview of DormWay's capabilities in the embedded landing page demo.

## Goals
1. **Realistic Experience**: Show a complete, realistic student experience with multiple courses, assignments, tasks, and notes
2. **Full Functionality**: Demonstrate all key features (Do Now/Up Next/Due Soon, Ace insights, workload scores, timeline)
3. **Always Processed**: Ensure all data is fully processed and ready to display (no empty states)
4. **Isolated Data**: Keep demo data completely separate from real user data

## Implementation Strategy

### Option 1: Database Seeding (Recommended)
**Approach**: Seed the demo user's database records with mock data
- **Pros**: 
  - Uses existing API endpoints (no special handling needed)
  - Realistic data structure
  - Can be updated/maintained via database migrations
- **Cons**: 
  - Requires database access
  - Need to ensure data stays fresh

### Option 2: API-Level Mock Data
**Approach**: Detect `X-Demo-Mode` header or `demo@dormway.app` email and return mock data at API level
- **Pros**: 
  - No database changes needed
  - Easy to update mock data
  - Can be versioned
- **Cons**: 
  - Requires modifying all API endpoints
  - More complex to maintain

### Recommended: Hybrid Approach
1. **Seed database** with mock data for demo user
2. **API middleware** to detect demo mode and ensure mock data is returned
3. **Script** to refresh/update mock data periodically

## Mock Data Structure

### Courses (4-5 courses)
```typescript
[
  {
    code: "ECON 301",
    name: "Intermediate Microeconomics",
    semester: "Fall 2025",
    instructor: "Dr. Sarah Chen",
    credits: 3,
    workload: 6.5, // out of 10
    color: "#8B5CF6", // purple
  },
  {
    code: "CS 201",
    name: "Data Structures and Algorithms",
    semester: "Fall 2025",
    instructor: "Prof. Michael Rodriguez",
    credits: 4,
    workload: 7.5,
    color: "#10B981", // green
  },
  {
    code: "HIST 150",
    name: "World History Since 1500",
    semester: "Fall 2025",
    instructor: "Dr. Emily Watson",
    credits: 3,
    workload: 4.0,
    color: "#F59E0B", // amber
  },
  {
    code: "MATH 225",
    name: "Linear Algebra",
    semester: "Fall 2025",
    instructor: "Dr. James Park",
    credits: 3,
    workload: 6.0,
    color: "#EF4444", // red
  },
  {
    code: "PSYC 101",
    name: "Introduction to Psychology",
    semester: "Fall 2025",
    instructor: "Dr. Lisa Thompson",
    credits: 3,
    workload: 5.0,
    color: "#3B82F6", // blue
  }
]
```

### Assignments (distributed across lanes)
```typescript
// Do Now (due within 2 days)
[
  {
    title: "Problem Set 5: Consumer Theory",
    courseCode: "ECON 301",
    dueDate: "2025-01-15T23:59:59Z", // Tomorrow
    priority: "high",
    estimatedDuration: 120, // minutes
    status: "pending",
    source: "syllabus",
  },
  {
    title: "Lab 3: Binary Search Trees",
    courseCode: "CS 201",
    dueDate: "2025-01-16T23:59:59Z", // Day after tomorrow
    priority: "high",
    estimatedDuration: 90,
    status: "pending",
    source: "canvas",
  }
]

// Up Next (due in 3-7 days)
[
  {
    title: "Midterm Exam",
    courseCode: "ECON 301",
    dueDate: "2025-01-20T14:00:00Z", // 5 days
    priority: "urgent",
    estimatedDuration: 90,
    status: "pending",
    source: "syllabus",
  },
  {
    title: "Essay: Industrial Revolution",
    courseCode: "HIST 150",
    dueDate: "2025-01-22T23:59:59Z", // 7 days
    priority: "medium",
    estimatedDuration: 180,
    status: "pending",
    source: "canvas",
  },
  {
    title: "Homework 4: Matrix Operations",
    courseCode: "MATH 225",
    dueDate: "2025-01-18T23:59:59Z", // 3 days
    priority: "medium",
    estimatedDuration: 60,
    status: "pending",
    source: "syllabus",
  }
]

// Due Soon (due in 8-14 days)
[
  {
    title: "Project: Sorting Algorithm Analysis",
    courseCode: "CS 201",
    dueDate: "2025-01-25T23:59:59Z", // 10 days
    priority: "medium",
    estimatedDuration: 240,
    status: "pending",
    source: "canvas",
  },
  {
    title: "Research Paper: Cognitive Development",
    courseCode: "PSYC 101",
    dueDate: "2025-01-28T23:59:59Z", // 13 days
    priority: "medium",
    estimatedDuration: 300,
    status: "pending",
    source: "syllabus",
  }
]
```

### Schedule/Calendar Events
```typescript
[
  // Recurring classes
  {
    title: "ECON 301 Lecture",
    courseCode: "ECON 301",
    start: "2025-01-15T10:00:00Z", // Today, 10am
    end: "2025-01-15T11:15:00Z",
    location: "Economics Building 201",
    eventType: "class",
    rrule: "FREQ=WEEKLY;BYDAY=MWF;UNTIL=20251215",
  },
  {
    title: "CS 201 Lab",
    courseCode: "CS 201",
    start: "2025-01-15T14:00:00Z", // Today, 2pm
    end: "2025-01-15T15:50:00Z",
    location: "Computer Science Building 305",
    eventType: "class",
    rrule: "FREQ=WEEKLY;BYDAY=TTH;UNTIL=20251215",
  },
  // ... more recurring classes
  // One-time events
  {
    title: "ECON 301 Office Hours",
    courseCode: "ECON 301",
    start: "2025-01-16T13:00:00Z", // Tomorrow
    end: "2025-01-16T14:00:00Z",
    location: "Economics Building 201",
    eventType: "office_hours",
  },
  {
    title: "ECON 301 Midterm",
    courseCode: "ECON 301",
    start: "2025-01-20T14:00:00Z",
    end: "2025-01-20T16:00:00Z",
    location: "Economics Building 201",
    eventType: "exam",
  }
]
```

### Tasks
```typescript
[
  {
    title: "Review Chapter 5 notes",
    courseCode: "ECON 301",
    priority: "medium",
    estimatedDuration: 30,
    status: "pending",
    dueDate: "2025-01-15T23:59:59Z",
  },
  {
    title: "Read CS 201 textbook pages 120-150",
    courseCode: "CS 201",
    priority: "high",
    estimatedDuration: 45,
    status: "pending",
    dueDate: "2025-01-16T23:59:59Z",
  },
  {
    title: "Study for ECON midterm",
    courseCode: "ECON 301",
    priority: "urgent",
    estimatedDuration: 180,
    status: "pending",
    dueDate: "2025-01-19T23:59:59Z",
  }
]
```

### Notes
```typescript
[
  {
    title: "ECON 301 - Consumer Theory Key Points",
    courseCode: "ECON 301",
    content: "Utility maximization...",
    createdAt: "2025-01-10T10:00:00Z",
  },
  {
    title: "CS 201 - Binary Tree Traversal",
    courseCode: "CS 201",
    content: "In-order, pre-order, post-order...",
    createdAt: "2025-01-12T14:00:00Z",
  }
]
```

### Ace Insights
```typescript
[
  {
    type: "reminder",
    message: "Your ECON 301 midterm is in 5 days. Start reviewing chapters 5-8.",
    courseCode: "ECON 301",
    priority: "high",
  },
  {
    type: "suggestion",
    message: "You have a light week coming up - good time to get ahead on CS 201 lab assignments.",
    courseCode: "CS 201",
    priority: "medium",
  },
  {
    type: "workload",
    message: "Your workload is moderate this week (6.2/10). Consider scheduling study time for the ECON midterm.",
    priority: "medium",
  }
]
```

### Workload Scores
```typescript
{
  overall: 6.2, // out of 10
  byCourse: {
    "ECON 301": 6.5,
    "CS 201": 7.5,
    "HIST 150": 4.0,
    "MATH 225": 6.0,
    "PSYC 101": 5.0,
  },
  weeklyTrend: [
    { week: "2025-01-08", score: 5.8 },
    { week: "2025-01-15", score: 6.2 },
    { week: "2025-01-22", score: 7.1 }, // Midterm week
    { week: "2025-01-29", score: 5.5 },
  ]
}
```

## Implementation Steps

### Phase 1: Database Seeding Script
1. Create SQL migration or script to:
   - Find or create demo user in `users` table
   - Create demo user's student context
   - Create course contexts for each mock course
   - Insert mock assignments into `service_data` or assignments table
   - Insert mock calendar events into `service_data`
   - Insert mock tasks into `tasks` table
   - Insert mock notes into notes table
   - Calculate and store workload scores

### Phase 2: API Middleware Enhancement
1. Detect demo mode:
   - Check `X-Demo-Mode` header
   - Check if user email is `demo@dormway.app`
2. Ensure mock data is returned:
   - If demo user has no data, trigger seeding
   - If data is stale, refresh it

### Phase 3: Data Refresh Strategy
1. Create admin endpoint to refresh demo data
2. Schedule periodic refresh (daily/weekly)
3. Ensure dates are always relative to "today" for realistic preview

## Files to Create/Modify

### New Files
1. `scripts/demo/seed-demo-data.ts` - Script to seed demo user with mock data
2. `scripts/demo/mock-data.ts` - Mock data definitions
3. `services/api-router/src/middleware/demo-mode.ts` - Demo mode detection middleware
4. `services/api-router/src/services/demo-data-service.ts` - Service to return mock data

### Modified Files
1. `services/api-router/src/routes/dashboard-routes.ts` - Add demo mode detection
2. `services/api-router/src/routes/task-routes.ts` - Return mock tasks for demo
3. Database migration to seed initial demo data

## Testing Checklist
- [ ] Demo user has complete course schedule
- [ ] Assignments appear in correct lanes (Do Now/Up Next/Due Soon)
- [ ] Calendar shows recurring classes and one-time events
- [ ] Tasks are visible and can be interacted with (read-only)
- [ ] Notes are visible
- [ ] Ace insights appear
- [ ] Workload scores are calculated and displayed
- [ ] Timeline shows events
- [ ] No empty states in demo mode
- [ ] Data refreshes appropriately (dates stay relative)

## Next Steps
1. âœ… Review and approve this plan
2. âœ… Create mock data definitions file (included in seed script)
3. âœ… Create database seeding script (`src/scripts/seed-demo-data.ts`)
4. **Run the seeding script** to populate demo user data
5. **Test with demo user** in the embedded landing page preview
6. **Set up periodic refresh** (optional - to keep dates relative to "today")
7. Deploy and verify in production

## Implementation Status

### âœ… Completed
- Comprehensive implementation plan
- Mock data seeding script (`src/scripts/seed-demo-data.ts`)
  - Includes 5 mock courses
  - Assignments distributed across Do Now/Up Next/Due Soon lanes
  - Recurring class schedule for 4 weeks
  - One-time events (midterms, office hours)
  - Tasks with various priorities
  - All dates are relative to "today" for realistic preview

### ðŸ”„ Next Actions Required

1. **Install Dependencies** (if needed):
   ```bash
   cd services/api-router
   npm install uuid @types/uuid
   ```

2. **Run the Seeding Script**:
   ```bash
   cd services/api-router
   npx ts-node src/scripts/seed-demo-data.ts
   ```
   
   Or add to `package.json`:
   ```json
   {
     "scripts": {
       "seed:demo": "ts-node src/scripts/seed-demo-data.ts"
     }
   }
   ```

3. **Verify Demo User Exists**:
   - Ensure `demo@dormway.app` exists in Clerk
   - Ensure the user has a corresponding record in the `users` table with matching email

4. **Test the Demo**:
   - Visit the landing page
   - Click "See it from my perspective" or load the demo iframe
   - Verify all data appears correctly:
     - Courses show up
     - Assignments in correct lanes
     - Schedule events visible
     - Tasks appear in Task Bank
     - No empty states

5. **Optional: Set Up Auto-Refresh**:
   - Create a cron job or scheduled task to run the seeding script daily
   - This keeps dates relative to "today" for a fresh preview experience
