---
title: "Customer.io Campaign Flows   Detailed"
description: "This document provides detailed campaign flows with branching logic for all Customer.io campaigns across the 5 user journeys."
---

# Customer.io Campaign Flows - Detailed

This document provides detailed campaign flows with branching logic for all Customer.io campaigns across the 5 user journeys.

## Journey 1: Onboarding Campaign Flow

The onboarding flow has multiple branches based on user actions and completion status.

```mermaid
graph TD
    A[User Created] --> B{Profile Complete?}
    B -->|Yes| C[Welcome Email 1<br/>Immediate]
    B -->|No| D[Profile Reminder<br/>2 hours]
    
    C --> E{Push Permission?}
    D --> F{Completed Profile?}
    F -->|Yes| C
    F -->|No| G[Incomplete Profile Email<br/>Day 1]
    
    E -->|Granted| H[Thank You Push<br/>+ Tips]
    E -->|Denied| I[Permission Primer Email<br/>Day 2]
    E -->|Not Asked| J[Permission Primer Push<br/>Day 2]
    
    H --> K{Has Syllabus?}
    I --> K
    J --> L{Granted After Primer?}
    L -->|Yes| H
    L -->|No| K
    
    K -->|Yes| M[Syllabus Success Email<br/>Day 3]
    K -->|No| N[Syllabus Upload Email<br/>Day 2]
    
    M --> O{Calendar Connected?}
    N --> P{Uploaded After Email?}
    P -->|Yes| M
    P -->|No| Q[Gentle Reminder<br/>Day 4]
    
    O -->|Yes| R[Full Setup Celebration<br/>Day 4]
    O -->|No| S[Calendar Connect Email<br/>Day 4]
    
    Q --> T{Any Activity?}
    T -->|Yes| U[Re-engagement Path]
    T -->|No| V[Dormant User Email<br/>Day 7]
    
    R --> W[Regular User Campaigns]
    S --> X{Connected After Email?}
    X -->|Yes| R
    X -->|No| Y[Feature Education Email<br/>Day 7]
    
    style A fill:#e1f5fe
    style R fill:#c8e6c9
    style V fill:#ffcdd2
    style W fill:#a5d6a7
```

### Onboarding Email Templates

**Email 1A: Welcome (Complete Profile)**
```
Subject: Welcome to DormWay, {{first_name}}! ğŸ“
Trigger: user_created AND profile_complete = true
Delay: Immediate

Hi {{first_name}},

Welcome to your personal college assistant! You're joining thousands of students at {{campus}} who are staying on top of their academics with DormWay.

Here's what to do next:
âœ… Upload your syllabus (we'll extract all deadlines)
âœ… Connect your calendar (never miss a class)
âœ… Enable notifications (timely reminders)

[Upload Your First Syllabus] - CTA Button

Questions? Just reply to this email.

Your academic success team,
DormWay
```

**Email 1B: Welcome (Incomplete Profile)**
```
Subject: Complete your DormWay setup, {{email}}
Trigger: user_created AND profile_complete = false
Delay: 2 hours

Hi there,

We noticed you started setting up DormWay but didn't finish. It only takes 2 more minutes!

Complete your profile to:
- Get personalized deadline reminders
- Access your campus resources
- Use AI-powered study help

[Complete Setup] - CTA Button

-The DormWay Team
```

## Journey 2: Syllabus Upload Campaign Flow

```mermaid
graph TD
    A[First App Open] --> B{Has Course List?}
    B -->|Yes| C[Check Syllabus Status]
    B -->|No| D[Course Setup Prompt]
    
    C --> E{Syllabi Count}
    E -->|0| F[Upload Prompt Push<br/>Day 1]
    E -->|Some| G[Missing Syllabi Check]
    E -->|All| H[Complete Status]
    
    F --> I{Upload Started?}
    I -->|Yes| J[Processing Flow]
    I -->|No| K[Email Reminder<br/>Day 3]
    
    G --> L[Missing Syllabi Push<br/>Week 1]
    L --> M{Completed All?}
    M -->|Yes| H
    M -->|No| N[Weekly Reminder<br/>Until Week 3]
    
    J --> O{Processing Status}
    O -->|Success| P[Success Notification<br/>+ Summary Email]
    O -->|Failed| Q[Error Notification<br/>+ Help Email]
    
    P --> R{Is First Syllabus?}
    R -->|Yes| S[Unlock BrainGains Email]
    R -->|No| T[Check Completion]
    
    Q --> U[Support Ticket?]
    U -->|Yes| V[Manual Intervention]
    U -->|No| W[Retry Prompt<br/>Day 1]
    
    T --> X{All Uploaded?}
    X -->|Yes| Y[Celebration Email<br/>+ Weekly Digest Enable]
    X -->|No| G
    
    H --> Z[Regular Deadline Reminders]
    
    style A fill:#e1f5fe
    style H fill:#c8e6c9
    style Y fill:#a5d6a7
    style V fill:#ffcdd2
```

### Syllabus Campaign Branches

**Branch 1: No Syllabi (New User)**
1. Day 1: Upload prompt push
2. Day 3: Email with benefits + how-to
3. Day 7: Re-engagement with peer comparison
4. Day 14: Final reminder before semester gets busy

**Branch 2: Partial Syllabi**
1. Immediate: Success notification for uploaded
2. Week 1: Gentle reminder for missing courses
3. Week 2: Urgency increase (deadlines might be missed)
4. Week 3: Final push with manual upload link

**Branch 3: Upload Failures**
1. Immediate: Error notification with tips
2. 1 hour: Email with troubleshooting guide
3. Day 1: Offer to help via support
4. Day 3: Alternative upload methods

## Journey 3: Calendar Connection Flow

```mermaid
graph TD
    A[Calendar Feature Discovered] --> B{From Where?}
    B -->|Onboarding| C[Inline Permission]
    B -->|Settings| D[Settings Permission]
    B -->|Prompt| E[Campaign Permission]
    
    C --> F{Permission Granted?}
    D --> F
    E --> F
    
    F -->|Yes| G[Calendar Selection UI]
    F -->|No| H[Permission Denied Flow]
    
    G --> I{Calendars Selected?}
    I -->|Yes| J[Sync Started]
    I -->|No| K[No Calendar Push<br/>Day 1]
    
    J --> L{Sync Result}
    L -->|Success| M[Success Notification<br/>Event Count]
    L -->|Partial| N[Partial Sync Alert]
    L -->|Failed| O[Error Handling]
    
    M --> P[Weekly Preview Email<br/>Every Sunday]
    N --> Q[Retry Sync Prompt]
    O --> R[Troubleshooting Email]
    
    H --> S{Reason}
    S -->|Not Now| T[Delayed Re-ask<br/>Day 7]
    S -->|Never| U[Feature Education<br/>Day 14]
    S -->|Confused| V[Privacy Explainer<br/>Day 1]
    
    P --> W{Engagement Check}
    W -->|High| X[Continue Weekly]
    W -->|Low| Y[Reduce Frequency]
    W -->|None| Z[Pause + Re-engage]
    
    style A fill:#e1f5fe
    style M fill:#c8e6c9
    style X fill:#a5d6a7
```

### Calendar Connection Scenarios

**Scenario 1: Smooth Connection**
```
1. Permission granted â†’ Immediate success push
2. Sunday: First weekly preview email
3. Ongoing: Smart reminders based on calendar
```

**Scenario 2: Permission Denied - Recoverable**
```
1. Denied â†’ Privacy explanation email (Day 1)
2. Day 7: Benefits reminder with testimonial
3. Day 14: Feature comparison (with vs without)
4. Day 30: Final attempt with new features
```

**Scenario 3: Technical Issues**
```
1. Sync failed â†’ Immediate error notification
2. 1 hour: Troubleshooting email
3. Day 1: Manual calendar entry option
4. Day 3: Support outreach if still failing
```

## Journey 4: First BrainGains Interaction

```mermaid
graph TD
    A[Syllabus Uploaded] --> B[BrainGains Unlocked Email]
    B --> C{Opened BrainGains?}
    
    C -->|Yes within 24h| D[First Use Flow]
    C -->|No| E[Feature Discovery Push<br/>Day 2]
    
    D --> F{Asked Question?}
    E --> G{Opened After Push?}
    G -->|Yes| D
    G -->|No| H[Tutorial Email<br/>Day 3]
    
    F -->|Yes| I[Answer Delivered]
    F -->|No| J[Example Questions Push<br/>After 5 min]
    
    I --> K{Rated Answer?}
    K -->|Helpful| L[Encourage More Questions]
    K -->|Not Helpful| M[Improvement Flow]
    K -->|No Rating| N[Rating Reminder<br/>Day 1]
    
    L --> O{Daily Usage Check}
    O -->|Yes| P[Streak Notifications]
    O -->|No| Q[Smart Prompts]
    
    M --> R[Feedback Collection]
    R --> S[Alternative Help Email]
    
    P --> T{Streak Milestones}
    T -->|3 days| U[Bronze Streak Push]
    T -->|7 days| V[Silver Streak Email]
    T -->|14 days| W[Gold Streak Celebration]
    
    Q --> X{Re-engaged?}
    X -->|Yes| O
    X -->|No| Y[Weekly Study Tips Email]
    
    J --> Z{Clicked Example?}
    Z -->|Yes| I
    Z -->|No| AA[Give Up - Passive Education]
    
    style A fill:#e1f5fe
    style I fill:#c8e6c9
    style W fill:#a5d6a7
    style AA fill:#ffcdd2
```

### BrainGains Engagement Strategies

**High Engagement Path** (Daily Users)
- Streak notifications at milestones
- Weekly insight emails with usage stats
- Advanced tips for power users
- Early access to new features

**Medium Engagement Path** (Weekly Users)
- Weekly study tips related to their courses
- Exam prep reminders
- Popular questions from their classes
- Peer comparison stats

**Low Engagement Path** (Rare Users)
- Monthly feature highlights
- Success stories from other students
- Simplified re-onboarding
- Alternative study resources

## Journey 5: Daily Return User - Complete Flow

```mermaid
graph TD
    A[User Profile Check] --> B{Notification Preferences}
    B -->|Enabled| C[Daily Campaign Active]
    B -->|Disabled| D[Email-Only Campaign]
    
    C --> E{Time of Day}
    E -->|6-9 AM| F[Morning Briefing]
    E -->|11-2 PM| G[Midday Check-in]
    E -->|6-10 PM| H[Evening Review]
    E -->|Other| I[Skip]
    
    F --> J{User Context}
    J -->|Has Classes| K[Class Day Briefing]
    J -->|No Classes| L[Study Day Briefing]
    J -->|Weekend| M[Weekend Briefing]
    
    K --> N{Clicked?}
    L --> N
    M --> N
    
    N -->|Yes <1min| O[High Engagement]
    N -->|Yes >1min| P[Medium Engagement]
    N -->|No| Q[Low Engagement]
    
    G --> R{Activity Level}
    R -->|Active Today| S[Progress Update]
    R -->|Inactive| T[Gentle Nudge]
    
    H --> U{Day Summary}
    U -->|Productive| V[Celebration]
    U -->|Busy| W[Wellness Check]
    U -->|Inactive| X[Tomorrow Prep]
    
    O --> Y[Continue Daily]
    P --> Z[Maintain Schedule]
    Q --> AA{Consecutive Misses}
    AA -->|<3| Y
    AA -->|3-5| AB[Reduce Frequency]
    AA -->|>5| AC[Pause + Email Only]
    
    D --> AD[Weekly Digest Only]
    AD --> AE{Opens Email?}
    AE -->|Yes| AF[Continue Weekly]
    AE -->|No| AG[Monthly Only]
    
    style A fill:#e1f5fe
    style O fill:#a5d6a7
    style AC fill:#ffcdd2
```

### Daily Campaign Variations

**Morning Briefing Variants**

```mermaid
graph LR
    A[Morning Check] --> B{Conditions}
    B -->|Rain + Classes| C["â˜” Rainy class day<br/>Don't forget umbrella!"]
    B -->|Deadline Today| D["ğŸ“š Assignment due!<br/>{assignment_name} by {time}"]
    B -->|Exam Today| E["ğŸ“ Good luck on exam!<br/>{course} at {time}"]
    B -->|Light Day| F["ğŸŒŸ Light schedule<br/>Great day to catch up"]
    B -->|Friday| G["ğŸ‰ Friday vibes<br/>Weekend almost here!"]
```

**Engagement-Based Adjustments**

```mermaid
graph TD
    A[Engagement Score] --> B{Score Range}
    B -->|80-100%| C[Premium Experience<br/>All features + previews]
    B -->|60-79%| D[Standard Experience<br/>Core notifications]
    B -->|40-59%| E[Reduced Frequency<br/>Key alerts only]
    B -->|20-39%| F[Re-engagement Mode<br/>Win-back campaign]
    B -->|0-19%| G[Hibernation<br/>Monthly check-in only]
    
    C --> H[A/B Test New Features]
    D --> I[Maintain Status Quo]
    E --> J[Survey for Preferences]
    F --> K[Special Offers]
    G --> L[Sunset Communication]
```

## Re-engagement Campaign Logic

```mermaid
graph TD
    A[Inactivity Detected] --> B{Days Inactive}
    B -->|3 days| C[Gentle Reminder]
    B -->|5 days| D[Check-in Email]
    B -->|7 days| E[Urgency Campaign]
    B -->|14 days| F[Win-back Offer]
    B -->|30 days| G[Final Attempt]
    
    C --> H{Responded?}
    D --> H
    E --> H
    F --> H
    G --> H
    
    H -->|App Opened| I[Reset to Active]
    H -->|Email Clicked| J[Email-Only Mode]
    H -->|No Response| K[Continue Sequence]
    
    I --> L[Welcome Back Push]
    J --> M[Weekly Digest Only]
    K --> N{Next Step?}
    
    N -->|More in Sequence| O[Next Message]
    N -->|End of Sequence| P[Pause All]
    
    L --> Q[Monitor Activity]
    Q --> R{Sustained Activity?}
    R -->|Yes| S[Regular Campaigns]
    R -->|No| A
    
    style I fill:#c8e6c9
    style P fill:#ffcdd2
    style S fill:#a5d6a7
```

### Re-engagement Message Progression

1. **Day 3: Gentle Reminder**
   - Push: "Missing anything? Check what's due this week"
   - Personalzied with actual deadline if exists

2. **Day 5: Check-in Email**
   - Subject: "Everything okay, {{first_name}}?"
   - Content: Empathetic, offer help, quick wins

3. **Day 7: Urgency/FOMO**
   - Push: "3 deadlines this week - don't forget!"
   - Email: Success stories from other students

4. **Day 14: Win-back Offer**
   - Special feature unlock or premium trial
   - Direct feedback request

5. **Day 30: Sunset**
   - Final email: "We'll be here when you need us"
   - Move to minimal communication

## Campaign Performance Tracking

```mermaid
graph LR
    A[User Action] --> B[Event Fired]
    B --> C[Customer.io]
    C --> D[Campaign Triggered]
    D --> E[Message Sent]
    E --> F{User Response}
    F -->|Opened| G[Engagement Score +]
    F -->|Clicked| H[High Value Action]
    F -->|Ignored| I[Engagement Score -]
    F -->|Unsubscribed| J[Preference Update]
    
    G --> K[Segment Update]
    H --> K
    I --> K
    J --> K
    
    K --> L[Next Campaign Logic]
```

## Technical Implementation Notes

### Segment Definitions

```javascript
// High-Value Users (Protect at all costs)
segment.highValue = {
  conditions: [
    { dailyActiveStreak: { gte: 7 } },
    { syllabusCount: { gte: 4 } },
    { brainGainsQuestions: { gte: 20 } },
    { pushClickRate: { gte: 0.5 } }
  ],
  campaigns: ['premium_experience', 'early_access', 'vip_support']
};

// At-Risk Users (Re-engage aggressively)
segment.atRisk = {
  conditions: [
    { lastActiveAt: { lt: "now-3d" } },
    { lastActiveAt: { gt: "now-7d" } },
    { totalSessions: { gte: 5 } }
  ],
  campaigns: ['win_back_sequence', 'special_offers', 'feedback_request']
};

// Power Users (Optimize for retention)
segment.powerUsers = {
  conditions: [
    { dailyActiveStreak: { gte: 14 } },
    { engagementScore: { gte: 0.8 } },
    { featuresUsed: { includes: ['braingains', 'calendar', 'notifications'] } }
  ],
  campaigns: ['power_user_tips', 'beta_features', 'referral_program']
};
```

### Campaign Timing Logic

```typescript
// Smart send time calculation
function calculateOptimalSendTime(user: User): Date {
  const preferences = user.notificationPreferences;
  const historicalEngagement = user.engagementHistory;
  
  // Check explicit preferences first
  if (preferences.morningTime) {
    return parseTime(preferences.morningTime);
  }
  
  // Use historical engagement data
  const bestHour = historicalEngagement
    .filter(e => e.action === 'notification_clicked')
    .map(e => e.timestamp.getHours())
    .reduce((acc, hour) => {
      acc[hour] = (acc[hour] || 0) + 1;
      return acc;
    }, {});
  
  // Default to 8 AM if no data
  return new Date().setHours(
    Object.keys(bestHour).sort((a, b) => bestHour[b] - bestHour[a])[0] || 8
  );
}
```

---

*Created: 2025-07-18*
*Status: ğŸŸ¢ Ready for implementation with detailed flows*
*Related: [Customer.io Campaign Map](/docs/product/features/customerio-campaign-map-5-journeys), [Customer.io Event Implementation Guide](/docs/engineering/technical/customerio/customerio-event-implementation-guide), [5 Core User Journeys](/docs/plans/planning/5-core-user-journeys)*
