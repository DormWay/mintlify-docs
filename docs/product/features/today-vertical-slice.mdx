---
title: "today vertical slice"
description: "status: spec last_reviewed: 2025-09-27 owner: product implementation_status: pending priority: p1"
---

# Today Vertical Slice - Feature Specification

---
status: spec
last_reviewed: 2025-09-27
owner: product
implementation_status: pending
priority: p1
---

## Overview

Students need two things when opening DormWay:
1. **Vertical slice of "today"** - timeline showing classes and work blocks, editable like Lego pieces
2. **Proof** - every claim must show why we believe it, with sources and recency

## Problem Statement

- Students don't trust "all clear" messages without proof
- No unified view blending fixed time blocks (classes) with flexible work (tasks)
- Context switching between detail views breaks workflow
- Manual setup time prevents flow state in class contexts

## Solution Components

### 1. Today Timeline + Task Bank
- Single-day grid with hour rows and Now line
- Fixed class blocks (read-only, color-coded by course)
- Task Bank panel with sections: Due ≤48h, Recommended, Backlog
- Drag tasks onto timeline to create work blocks (25/50/90 min defaults)
- Snap around classes with collision warnings

### 2. Trust Surfaces ("Really?" Button)
- Adjacent to all claims ("All clear for 48h", "No conflicts")
- Panel reveals: sources (chips), last scan time, checks performed, known gaps
- One-tap re-scan and confidence scoring
- Source types: Canvas, Syllabus, Calendar, Email, Manual

### 3. Event Deep Cards
- Click any event → inline card (no navigation)
- Contents: time/location, map link, email instructor (prefilled), related tasks
- Keyboard shortcuts: n=notes, m=map, s=syllabus, a=assignments

### 4. Syllabus-Sourced Intelligence
- Parse requirements ("bring goggles") and location overrides
- Attach to specific class sessions
- Show "Updated from syllabus" chips for overrides

### 5. Class Workspace Presets
- Per-course module configuration (Notes, Email, Files, Mini Schedule)
- Auto-activate during class or by geofence/WiFi
- Save setup time and enable focus defaults

## Priority Ranking

| Priority | Component | Impact | Effort | Rationale |
|----------|-----------|---------|--------|-----------|
| **P1** | Timeline + Task Bank | Very High | High | Daily habit loop |
| **P1** | Trust Surfaces | High | Medium | Unblocks adoption |
| **P1** | Event Deep Cards | High | Medium | Eliminates navigation cost |
| P2 | Syllabus Intelligence | High | Med-High | Memorable magic |
| P3 | Workspace Presets | Med-High | Med-High | Focus lock-in |

## Success Metrics

**Trust**
- Provenance panel open rate
- Re-scan usage frequency
- Claims with ≥2 sources percentage
- Average confidence scores

**Planning**
- Work blocks created per day
- Plan adherence (completed/planned)
- Time-to-first-plan after login

**Execution**
- Deep-card quick-action clicks
- Notes/map/email usage rates
- Context switching reduction

**Retention**
- D7/D30 lift for planning users vs non-planning users

## Acceptance Criteria (P1)

- [ ] Drag task from bank to timeline creates editable work block
- [ ] Work blocks persist across sessions
- [ ] "Really?" reveals ≥2 sources with timestamps
- [ ] Re-scan updates recency indicators
- [ ] Event click opens inline card `<200ms`
- [ ] Quick actions (map, email, notes) function correctly
- [ ] All interactions work without page navigation
- [ ] Keyboard and screen reader accessible

## Data Model Extensions

```typescript
interface WorkBlock {
  id: string;
  taskId?: string;
  start: Date;
  end: Date;
  title: string;
  courseContext?: string;
  createdBy: string;
  updatedAt: Date;
}

interface Provenance {
  source: 'Canvas' | 'Syllabus' | 'Calendar' | 'Email' | 'Manual';
  entityId: string;
  fetchedAt: Date;
  scope: string;
  url?: string;
  summary: string;
  confidence: number;
}

interface SyllabusAssertion {
  courseContext: string;
  date: Date;
  kind: 'requirement' | 'location_override' | 'time_override';
  text: string;
  payload: any;
  sourceDocId: string;
  confidence: number;
}
```

## Implementation Touch Points

- `src/app/dashboard/schedule/page.tsx` - Timeline and deep cards
- `src/types/schedule.ts` - Extended event types
- `src/app/dashboard/preferences/page.tsx` - Workspace presets
- Syllabus processing pipeline - Assertion generation

## Risks & Mitigations

| Risk | Mitigation |
|------|------------|
| Wrong "all clear" claims | Show confidence + gaps + fast re-scan |
| Small screen drag/drop | Provide tap-to-add alternative |
| Syllabus parsing accuracy | Ship as assistive with verification links |
| Integration complexity | Phase external connections |

## Design Principles

- **Show, don't insist** - Every claim has provenance
- **Plan-first** - Timeline you can sculpt, not just lists
- **Two-click rule** - Maximum two interactions to any action
- **Expand in place** - No context-breaking navigation
- **Progressively honest** - Clear confidence and recency

## Related Documents

- [today-technical-implementation](/docs/engineering/technical/today-technical-implementation) - Technical architecture
- [today-user-experience](/docs/product/design/today-user-experience) - Interaction patterns
- [trust-surfaces-spec](/docs/engineering/components/trust-surfaces-spec) - Provenance system details
- [workspace-presets-spec](/docs/engineering/components/workspace-presets-spec) - Class configuration system
