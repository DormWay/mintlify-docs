---
title: "Local Dev Environment Improvements"
description: "This proposal outlines improvements to the DormWay local development environment, including:"
---

# Local Dev Environment Improvements Proposal

**Status**: üìã Proposal
**Priority**: High
**Effort**: Medium (2-3 weeks)
**Impact**: High - Significantly improves developer experience

---

## Executive Summary

This proposal outlines improvements to the DormWay local development environment, including:

1. **Web-based Dev Dashboard** (NEW) - Visual service management at `localhost:9999`
2. **Unified CLI Tool** - Single `dw` command for all operations
3. **Automated Environment Validation** - Pre-flight checks before starting services
4. **Enhanced Debugging Tools** - Better logging, error messages, and diagnostics
5. **Developer Onboarding Automation** - One-command setup for new developers

**Key Benefits**:
- ‚è±Ô∏è **Faster onboarding**: New devs productive in <30 minutes (vs 2-3 hours currently)
- üêõ **Easier debugging**: Visual service health + smart error messages
- üöÄ **Improved productivity**: Fewer context switches, less manual work
- üìä **Better visibility**: Real-time service status, logs, and metrics

---

## 1. Web-Based Dev Dashboard (Priority: HIGH)

### Overview

Create a web interface at **`http://localhost:9999`** that provides visual service management, similar to Docker Desktop but DormWay-specific.

### Features

#### 1.1 Service Management Panel

**Visual Grid of All Services**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DormWay Local Dev Dashboard                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Refresh] [Stop All] [Restart All] [Settings]         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ üü¢ api-router    ‚îÇ  ‚îÇ üü¢ engine        ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ Port: 3001       ‚îÇ  ‚îÇ Port: 3030       ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ CPU: 12%         ‚îÇ  ‚îÇ CPU: 8%          ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ MEM: 156 MB      ‚îÇ  ‚îÇ MEM: 245 MB      ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ [Logs] [Restart] ‚îÇ  ‚îÇ [Logs] [Restart] ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ üü¢ dormway-      ‚îÇ  ‚îÇ üî¥ zuplo         ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ    lockedin      ‚îÇ  ‚îÇ Port: 9000       ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ Port: 3008       ‚îÇ  ‚îÇ Error: Port busy ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ CPU: 5%          ‚îÇ  ‚îÇ [View Error]     ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ [Logs] [Restart] ‚îÇ  ‚îÇ [Start] [Config] ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇ üü¢ postgres      ‚îÇ  ‚îÇ üü¢ redis         ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ Port: 5432       ‚îÇ  ‚îÇ Port: 6379       ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ Connections: 12  ‚îÇ  ‚îÇ Keys: 1,234      ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ [Query] [Schema] ‚îÇ  ‚îÇ [CLI] [Monitor]  ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Service Status Indicators**:
- üü¢ Green: Running healthy
- üü° Yellow: Starting/Warning
- üî¥ Red: Stopped/Error
- ‚ö´ Gray: Not installed/Disabled

#### 1.2 Real-Time Logs Viewer

**Integrated Log Streaming**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Service Logs: api-router                     [X Close] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Pause] [Clear] [Download] [Filter: ___] [Level: ALL‚ñæ]‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  13:45:23 INFO  Server started on port 3001             ‚îÇ
‚îÇ  13:45:24 DEBUG Connected to PostgreSQL                 ‚îÇ
‚îÇ  13:45:25 INFO  Dashboard endpoint called               ‚îÇ
‚îÇ  13:45:25 ERROR Failed to fetch weather data            ‚îÇ
‚îÇ  ‚îÇ  at fetchWeather (weather.ts:42)                     ‚îÇ
‚îÇ  ‚îÇ  Error: Network timeout                              ‚îÇ
‚îÇ  13:45:26 WARN  Retry attempt 1/3                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Auto-scroll: [‚úì] Follow tail                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Features**:
- Color-coded log levels (red=error, yellow=warn, blue=info, gray=debug)
- Search/filter by keyword or regex
- Auto-scroll toggle
- Download logs as file
- Multi-service log aggregation view

#### 1.3 Database Inspector

**Quick Database Operations**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Database: dormway                            [X Close] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Query] [Schema] [Migrations] [Backup] [Restore]      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Quick Actions:                                          ‚îÇ
‚îÇ  ‚Ä¢ Check accounts table                [Run]            ‚îÇ
‚îÇ  ‚Ä¢ View recent contexts                [Run]            ‚îÇ
‚îÇ  ‚Ä¢ Check service_data partitions       [Run]            ‚îÇ
‚îÇ  ‚Ä¢ Inspect user locations (PostGIS)    [Run]            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Schema Quick Reference:                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ Table      ‚îÇ Key Columns                      ‚îÇ      ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§      ‚îÇ
‚îÇ  ‚îÇ accounts   ‚îÇ id, email, clerk_id              ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ contexts   ‚îÇ id, type, parent_id, user_id     ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ locations  ‚îÇ id, location (PostGIS), type     ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Custom Query:                                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ SELECT * FROM accounts LIMIT 5;                ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ                                                 ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ                                                 ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ  [Run Query] [Format SQL] [Clear]                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 1.4 Environment Variables Manager

**Visual Doppler Config**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Environment: dev_ethan                       [X Close] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Switch Config‚ñæ] [Sync from Doppler] [Export]         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Search: [___________]  [Show Secrets: ‚òê]              ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Clerk Configuration                         [Expand ‚ñæ] ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY                  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ pk_test_aHVtb3Jvd... [Copy] [View]                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ Status: ‚úì Valid                                     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                                      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ CLERK_SECRET_KEY                                    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ sk_test_‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢  [Copy] [View]                    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ Status: ‚úì Valid                                     ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Database Configuration                      [Expand ‚ñæ] ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  API Configuration                           [Expand ‚ñæ] ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚ö†Ô∏è Missing Variables (2):                              ‚îÇ
‚îÇ  ‚Ä¢ SENTRY_AUTH_TOKEN (optional)                         ‚îÇ
‚îÇ  ‚Ä¢ DEMO_ACCOUNT_REFRESH_TOKEN (optional)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 1.5 API Test Harness

**Quick API Testing**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  API Tester                                   [X Close] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Endpoint: [GET ‚ñæ] [/dashboard/v1/composite     ]       ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Query Params:                                           ‚îÇ
‚îÇ  ‚Ä¢ tab:     [home  ]                                    ‚îÇ
‚îÇ  ‚Ä¢ context: [campus]                                    ‚îÇ
‚îÇ  ‚Ä¢ refresh: [‚òê true]                                    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Headers:                                                ‚îÇ
‚îÇ  ‚Ä¢ x-user-id: [test-user        ]                       ‚îÇ
‚îÇ  ‚Ä¢ x-user-role: [admin          ]                       ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  [Send Request] [Save as Template]                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Response (156ms):                                       ‚îÇ
‚îÇ  Status: 200 OK                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ {                                                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   "widgets": [...],                                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   "schedule": [...],                                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   "metadata": {                                     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     "fetchedAt": "2025-10-29T..."                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   }                                                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ }                                                   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ  [Copy] [Format JSON] [Save Response]                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Saved Request Templates**:
- Campus detection test
- Dashboard BFF (all tabs)
- Mobile profile endpoint
- Create assignment
- Trigger workflow

#### 1.6 Diagnostics Center

**Automated Health Checks**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  System Diagnostics                           [X Close] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Run All Checks] [Export Report]                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Environment Setup                                  ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Doppler configured                           ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Docker running                               ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Node.js v18+                                 ‚úì    ‚îÇ
‚îÇ  ‚îî‚îÄ Git repository                               ‚úì    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Service Health                                     ‚ö†Ô∏è    ‚îÇ
‚îÇ  ‚îú‚îÄ API Router (3001)                            ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Engine (3030)                                ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ LockedIn (3008)                              ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Zuplo Gateway (9000)                         ‚úó    ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ Error: Port 9000 already in use               ‚îÇ
‚îÇ  ‚îÇ       [Kill Process] [Change Port]                  ‚îÇ
‚îÇ  ‚îî‚îÄ PostgreSQL (5432)                            ‚úì    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Clerk Integration                                  ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Publishable key present                      ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Secret key present                           ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ JWKS endpoint reachable                      ‚úì    ‚îÇ
‚îÇ  ‚îî‚îÄ LockedIn configured                          ‚úì    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Database Schema                                    ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Migrations up to date                        ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Required tables exist                        ‚úì    ‚îÇ
‚îÇ  ‚îî‚îÄ PostGIS extension enabled                    ‚úì    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Network & Ports                                    ‚ö†Ô∏è    ‚îÇ
‚îÇ  ‚îú‚îÄ Port 3001: Available                         ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Port 3008: Available                         ‚úì    ‚îÇ
‚îÇ  ‚îú‚îÄ Port 9000: In use                            ‚úó    ‚îÇ
‚îÇ  ‚îî‚îÄ Port 5432: Available                         ‚úì    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Technical Implementation

**Tech Stack**:
- **Frontend**: React + Vite (fast dev server)
- **Backend**: Express.js micro-service (separate from main stack)
- **Real-time**: WebSockets for log streaming
- **Docker Integration**: Docker SDK for Node.js
- **Port**: 9999 (dev dashboard)

**Project Structure**:
```
services/dev-dashboard/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceCard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LogViewer.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DatabaseInspector.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ApiTester.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Services.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Logs.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Diagnostics.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx
‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services.ts    # Service management
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logs.ts        # Log streaming
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.ts    # DB operations
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ diagnostics.ts # Health checks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îî‚îÄ‚îÄ shared/
‚îÇ       ‚îî‚îÄ‚îÄ types.ts
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vite.config.ts
‚îî‚îÄ‚îÄ README.md
```

**API Endpoints** (Backend at `http://localhost:9999/api`):
```typescript
GET    /api/services              # List all services with status
POST   /api/services/:id/start    # Start a service
POST   /api/services/:id/stop     # Stop a service
POST   /api/services/:id/restart  # Restart a service
GET    /api/services/:id/logs     # Get logs (SSE)
GET    /api/diagnostics           # Run health checks
POST   /api/database/query        # Execute SQL query
GET    /api/database/schema/:table # Get table schema
GET    /api/env                   # List env variables
POST   /api/env/validate          # Validate env vars
```

**WebSocket Events**:
```typescript
// Client ‚Üí Server
subscribe_logs: { serviceId: string }
unsubscribe_logs: { serviceId: string }

// Server ‚Üí Client
log_entry: { serviceId: string, level: string, message: string, timestamp: string }
service_status: { serviceId: string, status: 'running' | 'stopped' | 'error' }
```

---

## 2. Unified CLI Tool: `dw`

### Overview

Replace scattered `make` commands and scripts with a single, intuitive CLI tool.

### Installation

```bash
# Install globally via npm
npm install -g @dormway/dev-cli

# Or use via npx (no install)
npx @dormway/dev-cli <command>

# Alias in .bashrc/.zshrc
alias dw="npx @dormway/dev-cli"
```

### Command Structure

```bash
dw [command] [subcommand] [options]
```

### Commands

#### 2.1 Project Setup

```bash
# Initialize new dev environment
dw init
  ‚Üí Checks system requirements
  ‚Üí Clones missing repos (dormway-api-2, obsidian-vault)
  ‚Üí Installs Doppler CLI
  ‚Üí Runs doppler login + setup
  ‚Üí Installs npm dependencies
  ‚Üí Seeds dev database
  ‚Üí Opens dev dashboard

# Quick health check
dw doctor
  ‚Üí Runs full diagnostics
  ‚Üí Reports issues with fixes
  ‚Üí Validates all env vars
```

#### 2.2 Service Management

```bash
# Start services
dw start                    # Start all services
dw start api lockedin      # Start specific services
dw start --build           # Force rebuild

# Stop services
dw stop                    # Stop all
dw stop api                # Stop specific

# Restart services
dw restart api             # Smart restart (detects changes)
dw restart api --force     # Force recreate container

# Service status
dw status                  # Show all services
dw status api              # Detailed status for one service

# Service logs
dw logs                    # All services (aggregated)
dw logs api                # Specific service
dw logs api -f             # Follow mode
dw logs --since 1h         # Last hour
```

**Smart Restart Detection**:
```typescript
// Automatically detects what changed and uses optimal restart method
if (codeChangedOnly) {
  // Just restart container (volumes auto-update)
  docker restart service
} else if (packageJsonChanged) {
  // Rebuild with new deps
  docker-compose build --no-cache service
} else if (envVarsChanged) {
  // Recreate container
  docker-compose up -d --force-recreate service
} else if (temporalWorkflowChanged) {
  // Run both builds
  npm run build && npm run build:workflow
  docker restart service
}
```

#### 2.3 Database Operations

```bash
# Database access
dw db                      # Connect to psql
dw db schema accounts      # Show table schema (no docker exec!)
dw db query "SELECT..."    # Run query
dw db migrate              # Run migrations
dw db migrate --dry        # Preview migrations
dw db reset                # Reset database
dw db seed                 # Seed dev data
dw db backup               # Create backup
dw db restore [file]       # Restore from backup
dw db sync                 # Sync from production (VPN required)

# Schema shortcuts
dw db accounts             # SELECT * FROM accounts LIMIT 10
dw db contexts --type=campus  # Filter contexts
```

#### 2.4 Documentation

```bash
# Search Obsidian vault
dw docs "clerk setup"      # Search vault
dw docs --path ios/*       # Search in ios folder
dw docs --tag architecture # Search by tag

# Open docs
dw docs open               # Open vault in Obsidian
dw docs index              # Rebuild search index
```

#### 2.5 Testing & Debugging

```bash
# Run tests
dw test                    # All tests
dw test api                # Service-specific tests
dw test smoke              # Smoke tests

# API testing
dw api get /health         # Test endpoint
dw api post /users --data '{"email":"test@example.com"}'
dw api test campus-detection  # Run saved test

# Debugging
dw debug api               # Attach debugger to service
dw debug --port 9229       # Custom debug port
```

#### 2.6 Environment Management

```bash
# Doppler integration
dw env                     # Show current config
dw env list                # List all configs
dw env switch dev_riley    # Switch config
dw env get CLERK_KEY       # Get specific variable
dw env set KEY=value       # Set variable
dw env validate            # Validate all required vars
dw env export > .env       # Export to .env file (for non-Docker use)
```

#### 2.7 Workflow Helpers

```bash
# Common workflows
dw workflow trigger student-watcher --user-id=123
dw workflow list           # List running workflows
dw workflow cancel <id>    # Cancel workflow

# Git helpers
dw git branch              # Show current branch + status
dw git fresh               # New branch from main
dw git sync                # Pull latest + rebase

# Deployment
dw deploy --service=api --env=staging
dw deploy check            # Check deployment status
```

### Example Workflows

**New Developer Onboarding**:
```bash
# One command to rule them all
dw init

# Output:
# ‚úì Checking system requirements...
#   ‚úì Docker Desktop running
#   ‚úì Node.js 18.x installed
#   ‚úì Git configured
# ‚úì Cloning repositories...
#   ‚úì dormway-api-2
#   ‚úì obsidian-vault
# ‚úì Setting up Doppler...
#   ‚Üí Please login to Doppler (browser opened)
#   ‚úì Configured dormway/dev_yourname
# ‚úì Installing dependencies...
#   ‚úì api-router
#   ‚úì engine
#   ‚úì dormway-lockedin
# ‚úì Starting services...
#   ‚úì postgres-local
#   ‚úì redis-local
#   ‚úì api-router
#   ‚úì engine
# ‚úì Seeding database...
#   ‚úì Dev accounts created
#   ‚úì Sample contexts loaded
# ‚úì Running diagnostics...
#   ‚úì All checks passed
#
# üéâ Setup complete! Opening dev dashboard at http://localhost:9999
```

**Daily Development**:
```bash
# Morning - start work
dw start

# Check what's running
dw status

# Make code changes...

# Restart service to test
dw restart api

# Check logs
dw logs api -f

# Test API endpoint
dw api get /dashboard/v1/composite?tab=home

# Everything looks good, commit
git add . && git commit -m "feat: add new endpoint"

# End of day - stop services
dw stop
```

**Debugging an Issue**:
```bash
# Health check
dw doctor

# Output:
# ‚ùå 2 issues found:
#   1. Zuplo Gateway not responding (port 9000)
#      Fix: Run `dw restart zuplo`
#   2. Missing CLERK_SECRET_KEY in Doppler
#      Fix: Run `dw env set CLERK_SECRET_KEY=sk_test_...`

# Apply fixes
dw env set CLERK_SECRET_KEY=sk_test_xxx
dw restart zuplo

# Verify
dw doctor
# ‚úì All checks passed
```

### CLI Implementation

**Tech Stack**:
- **Framework**: Commander.js (CLI framework)
- **Styling**: Chalk (colors), Ora (spinners), Inquirer (prompts)
- **Docker**: Dockerode (Docker SDK)
- **Config**: Cosmiconfig (rc files)

**Project Structure**:
```
packages/dev-cli/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docs.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ env.ts
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docker.ts      # Docker operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ doppler.ts     # Doppler integration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diagnostics.ts # Health checks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services.json  # Service definitions
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îî‚îÄ‚îÄ dw.js              # Entry point
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

**Service Configuration** (`config/services.json`):
```json
{
  "services": [
    {
      "id": "api-router",
      "name": "API Router",
      "aliases": ["api", "router"],
      "port": 3001,
      "healthEndpoint": "/health",
      "dependencies": ["postgres", "redis"],
      "restartStrategy": "smart",
      "logPath": "/var/log/api-router.log"
    },
    {
      "id": "dormway-lockedin",
      "aliases": ["lockedin", "web"],
      "port": 3008,
      "envPrefix": "NEXT_PUBLIC_",
      "buildCommand": "npm run build",
      "dependencies": ["api-router"]
    }
  ]
}
```

---

## 3. Enhanced Developer Experience Features

### 3.1 Pre-Flight Validation

**Before Starting Services**:
```bash
dw start
  ‚Üí Checking prerequisites...
    ‚úì Docker running
    ‚úì Doppler configured
    ‚úì Required env vars present
    ‚úì No port conflicts
    ‚úì Disk space available (>10GB)
  ‚Üí Starting services...
```

**Validation Rules**:
```typescript
interface ValidationRule {
  name: string;
  check: () => boolean | Promise<boolean>;
  fix?: () => void | Promise<void>;
  severity: 'error' | 'warning';
  message: string;
  fixMessage?: string;
}

const rules: ValidationRule[] = [
  {
    name: 'Docker Desktop',
    check: () => isDockerRunning(),
    severity: 'error',
    message: 'Docker Desktop is not running',
    fixMessage: 'Please start Docker Desktop'
  },
  {
    name: 'Doppler Auth',
    check: () => isDopplerAuthenticated(),
    fix: () => exec('doppler login'),
    severity: 'error',
    message: 'Not logged into Doppler',
    fixMessage: 'Run: dw env login'
  },
  {
    name: 'Port 3001',
    check: () => isPortAvailable(3001),
    fix: () => killProcessOnPort(3001),
    severity: 'error',
    message: 'Port 3001 already in use',
    fixMessage: 'Kill process? [Y/n]'
  }
];
```

### 3.2 Smart Error Messages

**Before** (Current):
```
Error: connect ECONNREFUSED 127.0.0.1:5432
```

**After** (Improved):
```
‚ùå Cannot connect to PostgreSQL

Cause: Database not running on port 5432

Possible fixes:
  1. Start PostgreSQL: dw start postgres
  2. Check if port is blocked: dw doctor
  3. Reset database: dw db reset

Need help? Search docs: dw docs "postgres connection"
```

### 3.3 Interactive Prompts

**Example: Service Selection**:
```bash
$ dw start

? Which services do you want to start? (Use ‚Üë‚Üì arrows, space to select, enter to confirm)
  ‚óâ api-router (required)
  ‚óâ postgres-local (required)
  ‚óØ engine
  ‚óâ dormway-lockedin
  ‚óØ dormway-admin
  ‚óØ zuplo-gateway
  ‚óØ ably-relay

[‚óâ = selected, ‚óØ = not selected]
```

### 3.4 Configuration Profiles

**Save Common Setups**:
```bash
# Save current config as profile
dw profile save full-stack

# Load profile
dw profile load full-stack

# List profiles
dw profile list
  ‚Ä¢ minimal (postgres, api-router)
  ‚Ä¢ frontend (minimal + lockedin)
  ‚Ä¢ full-stack (all services)
  ‚Ä¢ backend-only (no frontend)
```

**Profile File** (`~/.dw/profiles/full-stack.json`):
```json
{
  "name": "full-stack",
  "description": "All services for full-stack development",
  "services": [
    "postgres-local",
    "redis-local",
    "api-router",
    "engine",
    "dormway-lockedin",
    "dormway-admin",
    "zuplo-gateway"
  ],
  "env": {
    "LOG_LEVEL": "debug",
    "ENABLE_DIAGNOSTICS": "true"
  }
}
```

---

## 4. Implementation Roadmap

### Phase 1: Quick Wins (Week 1)

**Goal**: Immediate productivity improvements

- [ ] Create diagnostic script (already done: `diagnose-clerk-setup.sh`)
- [ ] Implement `dw init` command for onboarding
- [ ] Add `dw doctor` for health checks
- [ ] Create `dw db schema <table>` shortcut
- [ ] Implement smart restart detection

**Deliverables**:
- Basic CLI with 5 core commands
- Diagnostic automation
- Improved onboarding docs

### Phase 2: Web Dashboard (Week 2)

**Goal**: Visual service management

- [ ] Build dev dashboard backend (Express + WebSocket)
- [ ] Create service management UI (React)
- [ ] Implement real-time log viewer
- [ ] Add database inspector
- [ ] Create diagnostics center

**Deliverables**:
- Working dashboard at `localhost:9999`
- Service start/stop/restart controls
- Log streaming
- Basic health checks

### Phase 3: Advanced Features (Week 3)

**Goal**: Power user features

- [ ] API test harness
- [ ] Environment variables manager
- [ ] Configuration profiles
- [ ] Enhanced CLI commands
- [ ] Integration with Linear/GitHub

**Deliverables**:
- Complete CLI tool (`dw`)
- Full-featured dashboard
- Developer documentation

### Phase 4: Polish & Documentation (Week 4)

**Goal**: Production-ready

- [ ] User testing with team
- [ ] Bug fixes and refinements
- [ ] Comprehensive documentation
- [ ] Video tutorials
- [ ] Obsidian knowledge base integration

**Deliverables**:
- v1.0 release
- Onboarding guide
- Troubleshooting docs

---

## 5. Success Metrics

**Developer Onboarding**:
- Current: 2-3 hours to first commit
- Target: <30 minutes to first commit
- Measurement: Time from `git clone` to running app

**Debugging Time**:
- Current: 15-30 minutes to diagnose common issues
- Target: <5 minutes with visual dashboard
- Measurement: Time to identify root cause

**API Call Reduction**:
- Current: ~50 calls per minute (dashboard)
- Target: ~15 calls per minute (with optimized caching)
- Measurement: Network tab monitoring

**Developer Satisfaction**:
- Survey: 1-5 rating on dev experience
- Target: 4.5+ average
- Measurement: Monthly team survey

---

## 6. Open Questions

1. **Hosting**: Should dev dashboard run as Docker service or standalone?
2. **Permissions**: How to handle Doppler secrets in UI (security)?
3. **CLI Distribution**: npm package or bundled binary?
4. **Customization**: Allow per-developer dashboard configs?
5. **Integration**: Connect to Linear for issue tracking?

---

## 7. Alternative Approaches Considered

### Alternative 1: Use Existing Tools (e.g., k9s, Portainer)
**Pros**: No development needed
**Cons**: Generic, not DormWay-specific, steeper learning curve
**Decision**: Build custom - DormWay-specific needs justify custom tool

### Alternative 2: Extend Docker Desktop
**Pros**: Familiar interface
**Cons**: Limited customization, not all devs use Docker Desktop
**Decision**: Build standalone - more flexibility

### Alternative 3: VS Code Extension
**Pros**: Integrated with IDE
**Cons**: Excludes non-VS Code users, limited UI capabilities
**Decision**: Web dashboard - accessible to everyone

---

## 8. Related Documentation

- [RILEY_CLERK_ZUPLO_SETUP](/docs/engineering/development/rileyclerkzuplosetup) - Troubleshooting guide that inspired this
- [Zuplo Gateway Migration](/docs/engineering/development/zuplo-gateway-migration) - Service integration patterns
- [Obsidian Vault Search System](/docs/engineering/development/obsidian-vault-search-system) - Knowledge base integration
- `CLAUDE.md` - Main development guide
- `scripts/dev/diagnose-clerk-setup.sh` - Diagnostic script

---

**Tags**: #development #devex #tooling #productivity #proposal
**Status**: üìã Awaiting approval
**Next Steps**:
1. Review with engineering team
2. Prioritize features
3. Assign development resources
4. Create Linear epic
