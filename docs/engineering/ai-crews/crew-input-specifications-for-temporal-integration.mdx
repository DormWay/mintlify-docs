---
title: "Crew Input Specifications"
description: "Exact input requirements for each AI crew in the DormWay system"
---

# Crew Input Specifications for Temporal Integration

This document provides exact input requirements for each crew in the DormWay system. These specifications are designed for Temporal workflow integration.

## Table of Contents
1. #student-context-crews|Student Context Crews
2. #campus-context-crews|Campus Context Crews
3. #city-context-crews|City Context Crews
4. #specialized-processing-crews|Specialized Processing Crews

---

## Student Context Crews

### 1. StudentAcademicContextCrew

**Purpose**: Analyzes student's academic schedule, assignments, and workload.

**Required Input Fields**:
```typescript
interface StudentAcademicContextInput {
  // Required fields
  schedule_data: {
    time_blocks: Array<{
      day_of_week: string;        // "Monday", "Tuesday", etc.
      start_time: string;         // "10:00:00"
      end_time: string;           // "11:30:00"
      block_type: string;         // "class", "discussion", "lab"
      course_code: string;        // "EECS 281"
      course_name: string;        // "Data Structures and Algorithms"
      location: string;           // "Chrysler Center 220"
      format: string;             // "in_person", "hybrid", "online"
      attendance_required: boolean;
    }>;
  };
  
  assignments_data: Array<{
    course_code: string;          // "EECS 281"
    assignment_name: string;      // "Project 3: Priority Queues"
    due_date: string;            // "2025-03-14" (ISO date)
    type: string;                // "project", "homework", "exam"
    weight: number;              // 0.15 (15% of grade)
    estimated_hours: number;     // 20
    submission_format: string;   // "autograder", "canvas", "in_person"
  }>;
  
  academic_calendar: {
    current_term: string;        // "Winter 2025"
    important_dates: Array<{
      date: string;              // "2025-03-17"
      event: string;             // "Course Drop Deadline"
      type: string;              // "deadline", "break", "registration"
    }>;
  };
  
  campus_metadata: {
    name: string;                // "University of Michigan"
    location: string;            // "Ann Arbor, MI"
    timezone: string;            // "America/Detroit"
  };
  
  current_datetime: string;      // "2025-03-11T14:15:00"
  timezone: string;              // "America/Detroit"
  
  // Optional fields
  campus_events?: Array<any>;    // Campus events that might affect academics
  office_hours?: Record<string, any>;  // Professor office hours
  _metadata?: {
    data_version: string;
    scenario?: string;
  };
}
```

**Output Structure**:
```typescript
interface StudentAcademicContextOutput {
  immediate_actions: {
    classes_to_attend: string[];
    assignments_due: string[];
    preparation_needed: string[];
  };
  weekly_strategy: {
    key_deadlines_this_week: string[];
    study_time_allocation: Record<string, string>;
    work_life_balance_considerations: string;
  };
  alerts: {
    high_stress_periods_approaching: string;
    registration_deadlines: string[];
    early_preparation_needs: string;
  };
  recommendations: {
    best_study_blocks: string;
    office_hours_to_utilize: string;
    group_work_scheduling: string;
  };
  academic_health: {
    overall_workload_assessment: string;
    recovery_time_after_project: string;
  };
}
```

---

### 2. StudentTravelContextCrew

**Purpose**: Activates when student is >50km from campus for remote learning support.

**Required Input Fields**:
```typescript
interface StudentTravelContextInput {
  // Required fields
  distance_data: {
    distance: number;            // meters (e.g., 389628 for Chicago)
    duration: number;            // seconds for travel
    route?: {
      start: string;
      end: string;
      mode: string;              // "driving", "flying", "train"
    };
  };
  
  campus_metadata: {
    name: string;
    location: string;
    timezone: string;
  };
  
  schedule_data: {               // Same structure as Academic Context
    time_blocks: Array<any>;
  };
  
  home_timezone: string;         // "America/Detroit"
  current_datetime: string;      // "2025-07-04T12:00:00"
  
  // Optional fields
  current_location?: {
    lat: number;
    lng: number;
    name: string;
    campus_building: boolean;
  };
  
  assignments_data?: Array<any>;
  course_policies?: Record<string, any>;
  remote_attendance_data?: Record<string, any>;
  break_schedule?: Record<string, any>;
  current_timezone?: string;     // Defaults to home_timezone if not provided
}
```

**Output Structure**:
```typescript
interface StudentTravelContextOutput {
  current_status: {
    location: string;
    academic_situation: string;
  };
  daily_plan: {
    today: {
      class_schedule: Array<any>;
      study_blocks: Array<any>;
      campus_connection_points: string[];
    };
  };
  weekly_strategy: {
    remote_attendance_schedule: Array<any>;
    assignment_management: any;
    return_trip_preparation: any;
  };
  risk_alerts: {
    critical_items_needing_attention: string[];
  };
  recommendations: {
    specific_actions_for_success: string[];
  };
}
```

---

### 3. StudentDailyIntelligenceCrew

**Purpose**: Master synthesizer that combines all contexts into personalized daily guidance.

**Required Input Fields**:
```typescript
interface StudentDailyIntelligenceInput {
  // Required contexts from other crews
  academic_context: StudentAcademicContextOutput;  // From Academic Crew
  campus_context: {
    events: Array<any>;
    building_hours?: Record<string, any>;
    transportation?: any;
  };
  city_context: {
    weather?: any;
    sunrise?: string;
    sunset?: string;
  };
  
  current_datetime: string;
  timezone: string;
  
  // Optional contexts
  travel_context?: StudentTravelContextOutput;  // Only if away from campus
  telemetry_data?: {
    health_metrics?: {
      steps: number;
      active_minutes: number;
      sleep_hours: number;
      sleep_quality: string;
      heart_rate_avg: number;
      stress_level: string;
    };
    device_metrics?: {
      screen_time_minutes: number;
      study_app_minutes: number;
      social_media_minutes: number;
      productivity_score: number;
    };
  };
  
  student_profile?: {
    student_id: string;
    name: string;
    preferred_name?: string;
    major: string;
    year: string;
    dormitory?: string;
    tone_preference?: string;    // "friendly", "casual", "supportive", etc.
    current_mood?: string;       // "stressed", "motivated", etc.
    stress_level?: number;       // 1-10
    semester_goals?: string[];
  };
  
  preferences?: {
    notification_style: string;  // "minimal", "detailed"
    study_time_preference?: string;
    group_study?: boolean;
  };
}
```

**Output Structure**:
```typescript
interface StudentDailyIntelligenceOutput {
  daily_briefing: {
    message: string;             // Personalized greeting
    current_location?: string;
    critical_items: string[];
    recommendation: string;
  };
  today_priorities: string[];
  context_guidance: Record<string, string>;
  weekly_outlook: {
    preparation: string;
    opportunities: string;
    risks: string;
    balance: string;
  };
  recommendations: string[];
  well_being_notes: string[];
  metadata: {
    generation_details: string;
    data_sources: string[];
  };
}
```

---

### 4. StudentNotificationCrew

**Purpose**: Creates intelligent notification plans based on context and preferences.

**Required Input Fields**:
```typescript
interface StudentNotificationInput {
  // Required fields
  academic_context: StudentAcademicContextOutput;
  assignments_data: Array<any>;
  current_datetime: string;
  timezone: string;
  
  // Optional fields
  campus_events?: Array<any>;
  telemetry_data?: any;
  preferences?: {
    notification_style: string;   // "minimal", "detailed"
    quiet_hours?: string[];
    channel_preferences?: string[];  // "push", "email", "sms"
  };
}
```

**Output Structure**:
```typescript
interface StudentNotificationOutput {
  notifications_to_send: Array<{
    type: string;                // "deadline_reminder", "event", etc.
    event: string;
    date: string;
    channel: string;             // "push", "email", "sms"
    message_content: string;
  }>;
  delivery_schedule: Array<{
    event: string;
    send_time: string;
    timezone: string;
  }>;
  message_templates: Record<string, string>;
  bundled_groups: Record<string, string[]>;
  suppressed_items: Array<{
    event: string;
    reason: string;
  }>;
  tracking_config: any;
  summary: {
    total_notifications: number;
    by_channel: Record<string, number>;
    by_urgency: Record<string, number>;
  };
}
```

---

## Campus Context Crews

### 5. CampusEventsCrew

**Required Input Fields**:
```typescript
interface CampusEventsInput {
  user_profile: {
    major: string;
    year: string;
    interests?: string[];
  };
  date_range: {
    start_date: string;          // ISO date
    end_date: string;
  };
  location_preferences?: string[];
  campus_metadata: any;
  current_datetime: string;
  timezone: string;
}
```

### 6. CampusLogisticsCrew

**Required Input Fields**:
```typescript
interface CampusLogisticsInput {
  user_location: {
    current_building?: string;
    dormitory?: string;
  };
  target_locations: string[];    // Buildings/services needed
  time_constraints?: any;
  campus_metadata: any;
  transportation_data?: any;
  current_datetime: string;
  timezone: string;
}
```

### 7. CampusNewsCrew

**Required Input Fields**:
```typescript
interface CampusNewsInput {
  user_profile: {
    major: string;
    year: string;
    interests?: string[];
  };
  date_range?: {
    start_date: string;
    end_date: string;
  };
  news_categories?: string[];    // "academic", "safety", "events", etc.
  campus_metadata: any;
  current_datetime: string;
  timezone: string;
}
```

---

## City Context Crews

### 8. CityContextCrew

**Required Input Fields**:
```typescript
interface CityContextInput {
  location_data: {
    city: string;                // "Ann Arbor, MI"
    coordinates?: {
      lat: number;
      lng: number;
    };
  };
  user_preferences?: {
    interests?: string[];
    transportation_mode?: string;
  };
  date_range?: any;
  current_datetime: string;
  timezone: string;
}
```

---

## Specialized Processing Crews

### 9. SyllabusProcessorCrew

**Required Input Fields**:
```typescript
interface SyllabusProcessorInput {
  syllabus_text: string;         // Raw syllabus content
  course_code: string;           // "EECS 281"
  course_name: string;
  term: string;                  // "Winter 2025"
  format?: string;               // "pdf", "html", "text"
  metadata?: {
    professor_name?: string;
    department?: string;
  };
}
```

---

## Temporal Workflow Integration Notes

### 1. **Data Flow Pattern**
```
Temporal Workflow
    ↓
1. Fetch student data from database
2. Run Campus/City Context Crews (parallel)
3. Run Academic Context Crew
4. Run Travel Context Crew (if distance > 50km)
5. Run Daily Intelligence Crew (waits for all contexts)
6. Run Notification Crew
    ↓
Store results & Send to user
```

### 2. **Caching Strategy**
- Academic Context: Cache for 24 hours (schedule doesn't change often)
- Travel Context: Cache for 6 hours (location might change)
- Daily Intelligence: Cache for 4 hours (synthesizes fresh data)
- Campus Events: Cache for 12 hours
- City Context: Cache for 6 hours (weather changes)

### 3. **Error Handling**
- Each crew returns `success: boolean` and optional `error` field
- Crews can return partial results with `skipped: true` flag
- Missing optional fields should not cause failures

### 4. **Performance Considerations**
- Run Campus/City crews in parallel
- Travel Context auto-skips if distance < 50km
- Use cache_key for deduplication
- Typical execution times:
  - Academic Context: ~70s
  - Travel Context: ~60s
  - Daily Intelligence: ~65s (uses GPT-4)
  - Notification: ~30s

### 5. **Personalization Integration**
- Student profile data should be fetched from user service
- Tone preferences affect Daily Intelligence output
- Notification preferences affect Notification Crew
- Major/interests affect event filtering

---

## Example Temporal Activity

```typescript
async function executeStudentContextWorkflow(
  studentId: string,
  date: string
): Promise<StudentContextResult> {
  // 1. Fetch base data
  const [studentData, campusData, locationData] = await Promise.all([
    fetchStudentData(studentId),
    fetchCampusMetadata(),
    fetchStudentLocation(studentId)
  ]);
  
  // 2. Run context crews in parallel
  const [campusEvents, cityContext] = await Promise.all([
    executeCampusEventsCrew({
      user_profile: studentData.profile,
      date_range: getWeekRange(date),
      campus_metadata: campusData,
      current_datetime: date,
      timezone: campusData.timezone
    }),
    executeCityContextCrew({
      location_data: locationData,
      current_datetime: date,
      timezone: campusData.timezone
    })
  ]);
  
  // 3. Run academic context
  const academicContext = await executeAcademicContextCrew({
    schedule_data: studentData.schedule,
    assignments_data: studentData.assignments,
    academic_calendar: campusData.calendar,
    campus_metadata: campusData,
    campus_events: campusEvents.events,
    current_datetime: date,
    timezone: campusData.timezone
  });
  
  // 4. Check if travel context needed
  let travelContext = null;
  if (locationData.distance > 50000) {
    travelContext = await executeTravelContextCrew({
      distance_data: locationData,
      campus_metadata: campusData,
      schedule_data: studentData.schedule,
      // ... other required fields
    });
  }
  
  // 5. Run daily intelligence synthesis
  const dailyIntelligence = await executeDailyIntelligenceCrew({
    academic_context: academicContext,
    travel_context: travelContext,
    campus_context: { events: campusEvents.events },
    city_context: cityContext,
    student_profile: studentData.profile,
    current_datetime: date,
    timezone: campusData.timezone
  });
  
  return dailyIntelligence;
}
```

## Related Documentation

- AI Crews Architecture
- [Personalization Guide](/docs/product/features/personalization)
- CrewAI Integration
- PortKey Observability
