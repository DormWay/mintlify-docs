---
title: "README"
description: "This directory contains technical documentation for DormWay's infrastructure setup, including database access, development environments, and AWS services."
---

# DormWay Infrastructure Documentation

This directory contains technical documentation for DormWay's infrastructure setup, including database access, development environments, and AWS services.

## üìÅ Documentation Overview

### Aurora Database Access

| Document | Purpose | Status |
|----------|---------|--------|
| **[AWS Client VPN Implementation Worklog](/docs/engineering/technical/infrastructure/aws-client-vpn-implementation-worklog)** | ‚úÖ **Primary Solution** - Secure VPN access to Aurora | **Production Ready** |
| **[Aurora Bastion Setup Guide](/docs/engineering/technical/infrastructure/aurora-bastion-setup-guide)** | Legacy SSH tunnel approach via bastion host | **Backup/Fallback** |
| **[Aurora Local Development Strategy](/docs/engineering/technical/infrastructure/aurora-local-development-strategy)** | Overall strategy for local development with Aurora | **Reference** |

## üöÄ Quick Start for New Developers

### Prerequisites
1. **Install Required Software**:
   ```bash
   # Install Docker Desktop
   # Download from: https://www.docker.com/products/docker-desktop
   
   # Install Doppler CLI
   curl -Ls https://cli.doppler.com/install.sh | sh
   
   # Install OpenVPN client for your platform:
   # macOS: https://openvpn.net/client/
   # Windows: https://openvpn.net/community-downloads/
   # Linux: apt install openvpn (or equivalent)
   ```

2. **Configure Doppler** (get credentials from team lead):
   ```bash
   doppler login
   doppler setup --project dormway --config dev_ethan
   ```

### Recommended Approach: AWS Client VPN
1. **Get VPN config**: Request `dormway-aurora-vpn.ovpn` from team lead
2. **Import & Connect**: Import into OpenVPN client and connect to "dormway-aurora-vpn" profile  
3. **Start Development**: Use `make dev-fresh` for full environment with Aurora sync
4. **Verify Services**: Check http://localhost:3001, http://localhost:3030, etc.

**Benefits**: Network-change resilient, team-friendly, secure certificate-based auth

### Fallback Approach: SSH Bastion
If VPN has issues, use the bastion host approach documented in the Aurora Bastion Setup Guide.

## üìä Solution Comparison

| Feature | AWS Client VPN | SSH Bastion |
|---------|----------------|-------------|
| **Network Changes** | ‚úÖ Automatic reconnection | ‚ùå Manual setup required |
| **Team Sharing** | ‚úÖ Easy config sharing | ‚ùå SSH key management |
| **Security** | ‚úÖ Certificate-based mutual TLS | ‚úÖ SSH key-based |
| **Setup Complexity** | ‚úÖ 5-minute setup | ‚ùå 15-30 minute setup |
| **Reliability** | ‚úÖ High | ‚ö†Ô∏è Network-dependent |
| **Cost** | ~$36/month if connected 24/7 | ~$15/month for bastion |

## üîó Related Documentation

### In This Directory
- **AWS Client VPN Implementation Worklog** - Complete technical implementation details
- **Aurora Bastion Setup Guide** - SSH tunnel setup (legacy/backup)
- **Aurora Local Development Strategy** - High-level development approach

### Related Technical Docs
- **[CI-CD Pipeline Docker to AWS](/docs/engineering/technical/migration-deployment/ci-cd-pipeline-docker-to-aws)** - Deployment infrastructure
- **Aurora Migration Plan** - Database migration strategy
- **Aurora Migration Testing Plan** - Migration validation

### Daily Notes with Infrastructure Work
- **2025-07-26 Aurora Local Development Setup** - Initial Aurora setup work
- **2025-07-26 Docker Development Environment Complete** - Docker environment completion

## üõ†Ô∏è Development Environment Commands

### VPN-Based Development (Recommended)
```bash
# Connect to VPN (via OpenVPN client GUI)
make setup-vpn          # One-time VPN infrastructure setup
make sync-aurora-vpn    # Sync Aurora database via VPN
make dev-fresh          # Start development with fresh Aurora data
make dev-quick          # Start development without database sync
make dev-check          # Check all services status
make dev-logs           # View all service logs
make local-db-console   # Access local PostgreSQL database
```

### Bastion-Based Development (Fallback)
```bash
make setup-bastion    # Setup bastion connection
make test-bastion     # Test SSH connection
make aurora-tunnel    # Create SSH tunnel
make sync-schema      # Sync via tunnel
```

## üìã Troubleshooting Quick Reference

### VPN Issues
- **DNS errors**: Wait 5-15 minutes for propagation
- **Certificate errors**: Re-import latest `dormway-aurora-vpn.ovpn` file
- **Connection fails**: Run `./scripts/check-vpn-status.sh`
- **Aurora timeout**: Check VPN connection with `nc -z 10.0.10.147 5432`

### Bastion Issues  
- **Network changes**: Run `make setup-bastion` to update IP
- **SSH timeouts**: Check bastion instance is running
- **Permission denied**: Verify SSH keys and security groups

## üîÑ Infrastructure Evolution

1. **Phase 1**: Direct Supabase connection (simple but not production-like)
2. **Phase 2**: SSH tunnel via bastion (production-like but network-dependent)  
3. **Phase 3**: AWS Client VPN (current) - production-like and network-resilient
4. **Future**: Potential integration with corporate SSO

## üìû Getting Help

1. **Check documentation** in this directory first
2. **Run diagnostic scripts**: `check-vpn-status.sh`, `test-bastion.sh`
3. **Check Daily Notes** for recent infrastructure changes
4. **Contact team lead** with specific error messages and diagnostic output

## ü§ù Team Onboarding

### For New Developers (Riley and others)
1. **Download Prerequisites**: Docker Desktop, Doppler CLI, OpenVPN client
2. **Get VPN Access**: Request `dormway-aurora-vpn.ovpn` configuration file
3. **Configure Secrets**: Get Doppler project access and run `doppler setup`
4. **Start Development**: Run `make dev-fresh` to sync Aurora and start all services
5. **Access Services**: All services available at localhost with ports documented in README

### VPN Configuration Sharing
The VPN configuration (`dormway-aurora-vpn.ovpn`) can be safely shared with team members:
- Contains client certificates for authentication
- Enables direct Aurora database access
- Works from any network location
- No individual setup required

---

**Quick Navigation**: [DormWay](/docs/operations/meta/obsidian-indexes/dormway) ‚Üí Engineering/Technical ‚Üí **Infrastructure** ‚Üí Choose your documentation

Last Updated: July 29, 2025
