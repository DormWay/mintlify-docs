---
title: "PM2 WebUI Monitoring Dashboard"
description: "PM2 WebUI provides a real-time web-based monitoring dashboard for all PM2-managed processes in the DormWay development environment. It offers comprehensive i..."
---

# PM2 WebUI Monitoring Dashboard

## Overview

PM2 WebUI provides a real-time web-based monitoring dashboard for all PM2-managed processes in the DormWay development environment. It offers comprehensive insights into service health, resource usage, and logs through an intuitive browser interface.

## Features

- **Real-time Process Monitoring**: View status, CPU, memory usage for all services
- **Log Streaming**: Live log viewing without terminal access
- **Resource Graphs**: Historical CPU and memory usage charts
- **Process Control**: Start, stop, restart services from the UI
- **Multi-Service Overview**: Monitor all DormWay services in one place:
  - Temporal Engine
  - API Router
  - Ably Relay
  - MkDocs
  - Crews API
  - PM2 WebUI itself

## Installation

### First-Time Setup

```bash
# Install PM2 WebUI module
pnpm run pm2:install-webui

# Install dependencies
pnpm install
```

## Usage

### Starting PM2 WebUI

```bash
# Start PM2 WebUI dashboard
pnpm run pm2:webui

# Or start all services including WebUI
pnpm run pm2:start

# Open dashboard in browser
pnpm run pm2:dashboard
```

The dashboard will be available at: **http://localhost:9000**

### Stopping PM2 WebUI

```bash
# Stop only the WebUI
pnpm run pm2:webui:stop

# Or stop all services
pnpm run pm2:stop
```

### Viewing Logs

```bash
# View PM2 WebUI logs
pnpm run pm2:webui:logs
```

## Configuration

PM2 WebUI is configured in `ecosystem.config.js`:

```javascript
{
  name: 'pm2-webui',
  script: 'pm2-webui',
  env: {
    PM2_WEBUI_PORT: '9000',        // Dashboard port
    PM2_WEBUI_HOST: '0.0.0.0',     // Listen on all interfaces
    PM2_WEBUI_REFRESH: '5000',     // Refresh interval (5 seconds)
    PM2_WEBUI_AUTH: 'false'        // Authentication disabled for dev
  }
}
```

### Configuration Options

| Option | Default | Description |
|--------|---------|-------------|
| `PM2_WEBUI_PORT` | 9000 | Port for the web interface |
| `PM2_WEBUI_HOST` | 0.0.0.0 | Host binding (0.0.0.0 for all interfaces) |
| `PM2_WEBUI_REFRESH` | 5000 | Data refresh interval in milliseconds |
| `PM2_WEBUI_AUTH` | false | Enable basic authentication |

### Enabling Authentication (Production)

For production environments, enable authentication:

1. Update `ecosystem.config.js`:
```javascript
env: {
  PM2_WEBUI_AUTH: 'true',
  PM2_WEBUI_USERNAME: 'admin',
  PM2_WEBUI_PASSWORD: 'secure-password'
}
```

2. Restart PM2 WebUI:
```bash
pnpm run pm2:reload
```

## Dashboard Features

### Process List View
- Service name and status (online/stopped/errored)
- PID and restart count
- CPU and memory usage
- Uptime information

### Individual Process View
- Detailed metrics and graphs
- Environment variables
- Process metadata
- Real-time log streaming

### Actions Available
- **Start/Stop/Restart**: Control individual services
- **Reload**: Graceful reload with zero downtime
- **Logs**: View real-time logs
- **Flush Logs**: Clear log files

## Integration with DormWay Services

PM2 WebUI automatically monitors all services defined in `ecosystem.config.js`:

| Service | Port | Description |
|---------|------|-------------|
| dormway-engine | 3000 | Temporal workflow engine |
| dormway-api | 4000 | Express API router |
| dormway-ably-relay | - | Real-time messaging relay |
| dormway-docs | 8000 | MkDocs documentation |
| dormway-crews | 8001 | Python crews API |
| pm2-webui | 9000 | This monitoring dashboard |

## Troubleshooting

### Dashboard Not Loading

1. Check if PM2 WebUI is running:
```bash
pm2 list
```

2. Check logs for errors:
```bash
pnpm run pm2:webui:logs
```

3. Verify port 9000 is not in use:
```bash
lsof -i :9000
```

### High Memory Usage

PM2 WebUI is configured with a 256MB memory limit. If it restarts due to memory:

1. Check for memory leaks in logs
2. Increase limit in `ecosystem.config.js`:
```javascript
max_memory_restart: '512M'
```

### Authentication Issues

If authentication is enabled but not working:

1. Verify environment variables are set
2. Check logs for auth errors
3. Try clearing browser cookies

## Best Practices

1. **Development**: Keep authentication disabled for ease of use
2. **Production**: Always enable authentication and use HTTPS
3. **Monitoring**: Set up alerts for service failures
4. **Resource Limits**: Configure appropriate memory limits
5. **Log Rotation**: Enable PM2 log rotation to prevent disk filling

## Security Considerations

- **Network Access**: By default, WebUI listens on all interfaces (0.0.0.0)
- **Authentication**: Disabled by default - enable for any non-local access
- **HTTPS**: Use a reverse proxy (nginx) for HTTPS in production
- **Firewall**: Restrict port 9000 access in production environments

## Advanced Configuration

### Custom Metrics

Add custom metrics to your services for display in WebUI:

```javascript
// In your Node.js service
const pm2 = require('pm2');
pm2.metric({
  name: 'Active Users',
  value: () => getUserCount()
});
```

### Webhook Integration

Configure webhooks for alerts:

```javascript
env: {
  PM2_WEBUI_WEBHOOK_URL: 'https://hooks.slack.com/...',
  PM2_WEBUI_WEBHOOK_EVENTS: 'restart,error'
}
```

## Related Documentation

- PM2 Monorepo Setup
- PM2 Implementation Complete
- [PM2 Official Documentation](https://pm2.keymetrics.io/)

---

*This dashboard significantly improves the developer experience by providing visual insights into all running services without needing multiple terminal windows.*
