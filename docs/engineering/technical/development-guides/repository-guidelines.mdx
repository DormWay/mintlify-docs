---
title: "Repository Guidelines"
description: "This note summarizes how to work in the DormWay platform repo. For the full contributor guide, see the repo root `AGENTS.md`."
---

# Repository Guidelines (Monorepo)

This note summarizes how to work in the DormWay platform repo. For the full contributor guide, see the repo root `AGENTS.md`.

## Project Structure
- `services/`: Core apps — `api-router`, `engine`, `dormway-admin`, `ably-relay`, `marketing-site`, `syllabus-webviewer`, `dormway-crews`.
- `infrastructure/`: Docker, LocalStack, Terraform, local DB configs.
- `scripts/`: Doppler, VPN, sync, deploy helpers.
- `docs/`: Reference and ops notes (this Obsidian vault).

## Dev & Build
- Start stack: `make dev`; health: `make status`; logs: `make logs s=api-router`.
- Build images: `make build` or `make build-service s=engine`.
- Tests: `make test` or `make test-service s=api-router`.
- Per‑service quickstart:
  - Router: `cd services/api-router && npm run dev` ; `npm run build`.
  - Engine: `cd services/engine && npm run start:dev` ; `npm test`.
  - Next.js apps: `npm run lint` ; `npm run build`.

See also: [Makefile Quick Reference](/docs/engineering/technical/development-guides/makefile-quick-reference).

## Coding Style
- TypeScript/Node, Next.js for web UIs.
- 2‑space indent; semicolons on; single quotes.
- Lint/format with `eslint` + `prettier` (service scripts available).
- Naming: kebab‑case directories, camelCase variables, PascalCase types/classes. Use `src/` and `dist/`.

## Testing
- Framework: Jest (+ `ts-jest`).
- Name tests `*.test.ts` under `src/` or `tests/`.
- Router tests are stubbed in CI; engine tests active.

## Commits & PRs
- Conventional Commits: `feat: …`, `fix: …`, `chore: …`.
- PRs: clear description, linked issues, impact/risk notes; screenshots for UI changes; include test plan and local run steps.

## Security & Config
- Secrets via Doppler. Do not hardcode. Use `.env.local.example` as template.
- AWS emulation: `make localstack` (or `make localstack-simple`).
- Aurora/VPN: `make vpn-setup` ; `make aurora-sync` for local DB refresh.
