---
title: "Widget System – Current vs Roadmap"
---

# Widget System – Current vs Roadmap

## Current (Production)
- Data: Neon Postgres; API Router aggregates; BFF v1 emits `WidgetEnvelope[]`.
- Cache: Redis per (user|tab|context) with context TTLs; canonical ETag.
- Realtime: Ably deltas on `user:{userId}:dashboard` using `{baseEtag, seq, ops}`.
- iOS: `DashboardStore` + `DashboardRealtimeManager`; grid-first rendering via `FlexibleGridView` + `GridWidgetContainer`.
- Selection: Stable IDs and server-assigned priorities; no central “Widget Optimizer” crew.

## Roadmap (Long-term Best)
- Conformance: Introduce a lightweight conformance/QA layer behind BFF transformer (schema validation, enrichment, safe defaults, anomaly signals) with measurable SLOs.
- Widget Catalog: Formal registry of widget types with contracts, caps, and cost/latency budgets.
- Grid Manifest: Server-side grid hints (caps, min sizes) to reduce client reflow work.
- Telemetry: Widget-level performance and resync reasons (etag mismatch vs seq gap) for reliability.

## References
- BFF: `Architecture/BFF Dashboard v1.md`
- Deltas: `Architecture/Realtime Dashboard Deltas.md`
- iOS: `Engineering/iOS Dashboard Architecture.md`
- Design: `obsidian-vault/DormWay/Engineering/Technical/Widget System/Widget System Architecture.md:1`
