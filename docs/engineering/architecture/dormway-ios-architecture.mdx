---
title: "DormWay iOS Architecture"
description: "DormWay iOS follows a feature-first organization approach with clear separation of concerns. The application is structured to be maintainable, scalable, and..."
---

# DormWay iOS Architecture

## Overview

DormWay iOS follows a feature-first organization approach with clear separation of concerns. The application is structured to be maintainable, scalable, and follows modern iOS development practices.

## Directory Structure

```
ios/
â”œâ”€â”€ App/                                # Main application code
â”‚   â”œâ”€â”€ Core/                           # Core framework and utilities
â”‚   â”œâ”€â”€ Design/                         # Design system components and tokens
â”‚   â”œâ”€â”€ Features/                       # Feature modules organized by domain
â”‚   â”œâ”€â”€ Services/                       # Service providers and integrations
â”‚   â””â”€â”€ Shared/                         # Cross-cutting utilities and components
â”œâ”€â”€ DashboardUI/                        # Swift Package (SPM) for Dashboard UI components
â”œâ”€â”€ DeviceActivityMonitorExtension/     # Device Activity Monitor extension code
â”œâ”€â”€ deviceactivity/                     # Entitlements and templates for device activity tracking
â”œâ”€â”€ build/                              # Build artifacts and derived data
â”œâ”€â”€ cleanup_scripts/                    # Cleanup helper scripts
â”œâ”€â”€ Legacy/                             # Legacy code, migration guides, and scripts
â”œâ”€â”€ Resources/                          # Asset catalogs and configuration files
â”œâ”€â”€ Scripts/                            # Development, build, and fix scripts
â”œâ”€â”€ Tests/                              # UI and unit tests
â”œâ”€â”€ Docs/                               # iOS-specific documentation
â”œâ”€â”€ dormway-mobile.xcodeproj            # Xcode project and workspace
â”œâ”€â”€ SwiftPackages.json                  # Package dependency versions
â”œâ”€â”€ CHANGELOG.md                        # Change log for iOS project
â”œâ”€â”€ build_check.swift                   # Build-check helper script
â””â”€â”€ buildServer.json                    # CI build configuration
```

## Key Architecture Principles

1. **Feature-First Organization**: Code is organized by feature domain rather than technical layer
2. **Clear Module Boundaries**: Each module has clear responsibilities and dependencies
3. **Consistent Patterns**: Consistent naming, file organization, and coding patterns
4. **Dependency Injection**: Services are accessed through dependency injection
5. **Design System**: Centralized design tokens and components
6. **Widget Framework**: Standardized widget development and data management

## Core Components

### Design System

The DormWay design system uses the `DS` namespace as the single source of truth for design tokens:

```swift
DS.Color.primary      // Colors
DS.Typography.body    // Typography
DS.Spacing.standard   // Spacing
DS.Radius.medium      // Corner radius
DS.Shadow.card        // Shadows
DS.Animation.spring   // Animations
```

### Widget System

The widget system follows a standardized architecture with clearly defined components and data flow:

1. **Data Models**: Type-specific data structures representing widget contents
2. **Data Managers**: Handle data fetching, caching, and state management
3. **Widget Views**: Display components with standardized styles and behaviors
4. **Coordination**: Data flow and registration management

### Feature Organization

Each feature module follows a consistent organization:

```
Features/FeatureName/
â”œâ”€â”€ Views/            # UI components
â”œâ”€â”€ ViewModels/       # Business logic and state management
â””â”€â”€ Models/           # Data models
```

### Services

Services handle external dependencies and provide functionality to features:

- **Auth**: Authentication and authorization
- **Calendar**: Calendar and schedule integration
- **Canvas**: Canvas LMS integration
- **Health**: HealthKit integration
- **Location**: Location and geofencing
- **Network**: Networking and connectivity

## Error Handling

The application uses a comprehensive error handling system:

1. **Error Types**:
   - `DWError`: Main error type with rich context
   - `DWErrorSeverity`: Severity levels (info, warning, error, critical)
   - `RecoveryOption`: Actions users can take to recover from errors
   - `ErrorLogEntry`: Persistent record of errors for analytics

2. **Error Factory**:
   - `DWErrorFactory`: Creates standardized errors for common scenarios

3. **Error Display**:
   - `DWErrorView`: Full error view with details and recovery options
   - `DWErrorBanner`: Top-of-screen alert for transient errors
   - `DWOfflineBanner`: Indicator for offline status

4. **Error Logging**:
   - `DWErrorLogger`: Tracks, persists, and analyzes errors
   - `ErrorFeedbackView`: Collects user feedback on errors

## Build System

The project includes comprehensive build scripts and tools:

1. **Quick Start**:
   ```bash
   ./fix_build.sh
   ```

2. **Manual Build Process**:
   ```bash
   ./Scripts/Build/clean_derived_data.sh
   ./Scripts/Fixes/fix_build_issues.sh
   ./Scripts/Fixes/verify_build_fixes.sh
   ```

## Documentation

Additional documentation is available in:

- `Docs/BuildInstructions/`: Build-related guides and troubleshooting
- `Docs/Architecture/`: Architectural documentation
- `Docs/DesignSystem/`: Design system guides
- `Docs/DeveloperGuides/`: General development guides 

## ðŸ”— Related

*Backlinks and related notes will appear here*
