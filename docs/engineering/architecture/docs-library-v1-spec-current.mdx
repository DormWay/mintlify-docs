---
title: "Docs Library v1 Spec (Current)"
description: "This spec defines the **minimum shippable Library** for the current LockedIn layout where **Docs = Library**. It is an implementation contract for the web ap..."
---

# Docs (Library) v1 Spec (Current)

This spec defines the **minimum shippable Library** for the current LockedIn layout where **Docs = Library**.
It is an implementation contract for the web app, not a future-state redesign.

---

## 1) Goals
- One obvious place for files + notes: **Docs**.
- Fast "find my stuff" flow (course filter + search).
- Immediate study loop: open a document, take notes, keep context.

---

## 1.1) North Star Path (Target)
- Overview is the default landing (Continue Studying + Recent docs + Recent notes + Inbox).
- Doc click opens Study View (viewer + notes panel) by default.
- Notes are doc-linked first, not a separate destination.
- Unified search covers docs + notes.
- Two-click access from Home: Docs tab -> target (doc, note, or Study View).

Plan: [Docs-Library-North-Star-Path](/docs/plans/workplan/docs-library-north-star-path)

---

## 2) IA + Navigation
**Route:** `/dashboard/documents` (Docs label in sidebar).  
**Notes editor:** `/dashboard/notes-hub` (reachable via Docs Notes tab/CTAs).

Minimum sub-surfaces (v1):
1) **Overview** (default) — Continue Studying + Recent docs + Recent notes + Inbox.
2) **Files** — document list + upload.
3) **Notes** — Notes Hub editor/list + doc-linked context.
4) **Search** — unified docs + notes query (can start as metadata search).

Optional (v1.5):
- Collections (course/term stacks).
- Collections (course/term stacks).

---

## 2.1) Deep Links + URL State (v1)
- Open doc in viewer: `/dashboard/documents?documentId={id}`
- Open doc + note: `/dashboard/documents?documentId={id}&noteId={id}`
- Notes panel state: `notes=open` opens the panel on mobile.
- Notes deep link (canonical): `/dashboard/notes-hub?noteId={id}` (legacy `/dashboard/notes` should preserve params if used).

## 3) Files (Documents)
**Must-have**
- List documents from BrainGains.
- Upload flow with course tagging.
- Filters: Recent / All / Personal / Course.
- Document summary preview (existing).
- Download + delete actions.

**Should-have**
- Inbox for unassigned uploads.
- Course chip + last opened.

---

## 4) Notes
**Must-have**
- Notes Hub list + editor.
- Course-aware notes (class context).
- Autosave + sync status.

**Should-have**
- Notes list grouping by course + Personal.
- Notes deep links that preserve context/title/date.

---

## 5) Search (Library)
**Must-have**
- Search across document titles + metadata.
- Search across note titles + content (fallback to local index if needed).

**Should-have**
- Filter by course, type (doc/note), date.

---

## 6) Study Loop (Doc Viewer + Notes)
**v1 minimum**
- Document viewer + notes panel is the primary study surface.
- Create a note from a doc and attach the doc link.
- Remember last scroll position per document.
- Summary view lives inside Study View (drawer or tab), not on the list surface.

If viewer is not ready, ship a lightweight PDF/doc viewer with a notes drawer.

---

## 7) Cross-Flow Entry Points (Must exist)
- Schedule: "Open class notes" opens/creates a session note in Docs.
- Tasks: "Start work" opens/creates an assignment note + suggests linked docs.
- Courses: "Materials" deep-links into Docs with a course filter.

---

## 8) Analytics (Minimum)
- `doc_opened`, `doc_viewer_error`, `doc_downloaded`
- `doc_notes_panel_opened` / `doc_notes_panel_closed`
- `doc_note_created`, `doc_note_linked`
- Notes events already tracked: `note_opened`, `note_created`, `note_autosaved`, `note_exported`, `note_deleted`

## 9) Acceptance Criteria (Release)
- Students can explain where notes and files live in one sentence.
- Upload → find → open → take notes happens without leaving Docs.
- Course-filtered Docs view works.
- Notes autosave and sync status is visible.
- Deep links from Schedule/Tasks/Courses open the correct note context.

---

## 10) Related Docs
- [Library (Docs & Notes)](/docs/engineering/architecture/sot-library-docs-notes)
- [LockedIn-Docs-Viewer-Notes-Panel-Spec](/docs/product/design/lockedin-docs-viewer-notes-panel-spec)
- [Docs-Library-North-Star-Path](/docs/plans/workplan/docs-library-north-star-path)
- [BrainGains & RAG](/docs/engineering/architecture/sot-braingains-rag)
- [Tasks, Assignments, Planner Blocks](/docs/engineering/architecture/sot-tasks-assignments-planner-blocks)
- [Calendar, Time Blocks, Timezones](/docs/engineering/architecture/sot-calendar-time-blocks-timezones)
