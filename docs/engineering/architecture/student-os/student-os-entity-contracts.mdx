---
title: "Student OS Entity Contracts"
description: "This document defines the required entity fields for Focus Panel and Command/Search. It is a future-state contract and should not be treated as current produ..."
---

# Student OS Entity Contracts (v1)

This document defines the required entity fields for Focus Panel and Command/Search.
It is a future-state contract and should not be treated as current production truth.

Related: SoT - Command Search & Focus Panel

## Required fields for all entities

- `id` (string): stable identifier
- `entityType` (enum): `task | assignment | event | course | document | note | headsup_card | system_health`
- `title` (string): primary label
- `summary` (string): one-line secondary label
- `primaryAction` (object): `{ id, label, actionType }`
- `source` (object): `{ system, sourceId, lastUpdatedAt }`
- `deepLink` (string): canonical URL including `?focus=`
- `freshness` (object): `{ isStale, maxAgeSeconds, reason }`

Optional common fields:
- `context`: `{ courseId?, termId?, instructor?, location? }`
- `secondaryActions`: array of action objects
- `whyShown`: string (required for HeadsUp and AI-driven content)

## Task

Required:
- `status`: `pending | scheduled | completed | deleted`
- `dueAt` (ISO timestamp)
- `courseId` (optional)
- `scheduledBlockId` (optional)

Optional:
- `estimateMinutes`
- `sourceType`: `manual | assignment | dayplan | ai_suggestion | syllabus`

## Assignment

Required:
- `courseId`
- `dueAt`
- `status`: `pending | completed`
- `sourceType`: `canvas | syllabus`

Optional:
- `submissionStatus`
- `pointsPossible`
- `weightPercent` (only with syllabus source and timestamp)

## Event

Required:
- `startAt` / `endAt`
- `timezone`
- `location` (optional)
- `eventType`: `class | exam | work_block | other`

Optional:
- `relatedTaskIds`
- `meetingUrl`

## Course

Required:
- `code`
- `title`
- `termId` (optional)
- `instructor` (optional)
- `lmsStatus`: `connected | disconnected | unknown`
- `syllabusStatus`: `present | missing | unknown`

Optional:
- `nextClassAt`
- `meetingPattern`
- `upcomingDueCount`

## Document

Required:
- `documentType`: `syllabus | lecture_notes | assignment | textbook | presentation | research_paper | general`
- `courseId` (optional)
- `processingStatus`: `pending | processing | indexed | failed`

Optional:
- `contentUrl`
- `pageCount`

## Note

Required:
- `noteType`: `class | reading | assignment | exam | general`
- `courseId` (optional)
- `createdAt` / `updatedAt`

Optional:
- `linkedDocIds`
- `linkedTaskIds`

## HeadsUp card

Required:
- `severity` (0-100)
- `whyShown` (required)
- `primaryAction`

Optional:
- `dismissible`
- `snoozeOptions`

## System health

Required:
- `issueType`: `sync_failed | data_stale | source_unavailable | never_synced`
- `affectedSources`
- `lastUpdatedAt`

Optional:
- `reconnectAction`

## Search result contract

Every search result must include:
- `entityType`
- `id`
- `title`
- `summary`
- `deepLink`
- `source.system`
- `source.lastUpdatedAt`

## Detail data contract (Focus Panel)

Preferred behavior:
- Open with list payload data when available.
- If a detail endpoint exists, lazy-load to replace or enrich the panel.
- If detail data is missing, render with partial fields and show a non-blocking warning.

Minimum detail fields:
- Must satisfy all required fields listed above for the entity type.
- Must include provenance and freshness metadata.
